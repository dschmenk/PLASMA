; ACME COMPATIBLE OUTPUT
	JMP	_INIT			; MODULE INITIALIZATION ROUTINE
; vmsrc/apple/cmdjit.pla: 0001: const MACHID      = $BF98
					; MACHID = 49048
; vmsrc/apple/cmdjit.pla: 0002: const iobuffer    = $0800
					; iobuffer = 2048
; vmsrc/apple/cmdjit.pla: 0003: const RELADDR     = $1000
					; RELADDR = 4096
; vmsrc/apple/cmdjit.pla: 0004: const symtbl      = $A800
					; symtbl = 43008
; vmsrc/apple/cmdjit.pla: 0005: const freemem     = $0006
					; freemem = 6
; vmsrc/apple/cmdjit.pla: 0006: const getlnbuf    = $01FF
					; getlnbuf = 511
; vmsrc/apple/cmdjit.pla: 0007: const CSW         = $36
					; CSW = 54
; vmsrc/apple/cmdjit.pla: 0008: const KSW         = $38
					; KSW = 56
; vmsrc/apple/cmdjit.pla: 0009: //
; vmsrc/apple/cmdjit.pla: 0010: // System flags: memory allocator screen holes.
; vmsrc/apple/cmdjit.pla: 0011: //
; vmsrc/apple/cmdjit.pla: 0012: const restxt1     = $0001
					; restxt1 = 1
; vmsrc/apple/cmdjit.pla: 0013: const restxt2     = $0002
					; restxt2 = 2
; vmsrc/apple/cmdjit.pla: 0014: const resxtxt1    = $0004
					; resxtxt1 = 4
; vmsrc/apple/cmdjit.pla: 0015: const resxtxt2    = $0008
					; resxtxt2 = 8
; vmsrc/apple/cmdjit.pla: 0016: const reshgr1     = $0010
					; reshgr1 = 16
; vmsrc/apple/cmdjit.pla: 0017: const reshgr2     = $0020
					; reshgr2 = 32
; vmsrc/apple/cmdjit.pla: 0018: const resxhgr1    = $0040
					; resxhgr1 = 64
; vmsrc/apple/cmdjit.pla: 0019: const resxhgr2    = $0080
					; resxhgr2 = 128
; vmsrc/apple/cmdjit.pla: 0020: const nojitc      = $0100
					; nojitc = 256
; vmsrc/apple/cmdjit.pla: 0021: //
; vmsrc/apple/cmdjit.pla: 0022: // Module don't free memory
; vmsrc/apple/cmdjit.pla: 0023: //
; vmsrc/apple/cmdjit.pla: 0024: const modflagkeep = $1000
					; modflagkeep = 4096
; vmsrc/apple/cmdjit.pla: 0025: const modkeep     = $2000
					; modkeep = 8192
; vmsrc/apple/cmdjit.pla: 0026: const modinitkeep = $4000
					; modinitkeep = 16384
; vmsrc/apple/cmdjit.pla: 0027: //
; vmsrc/apple/cmdjit.pla: 0028: // 80 column flag
; vmsrc/apple/cmdjit.pla: 0029: //
; vmsrc/apple/cmdjit.pla: 0030: const vid80col    = $0800
					; vid80col = 2048
; vmsrc/apple/cmdjit.pla: 0031: //
; vmsrc/apple/cmdjit.pla: 0032: // Machine ID values
; vmsrc/apple/cmdjit.pla: 0033: //
; vmsrc/apple/cmdjit.pla: 0034: const MACHID_CLOCK = $01
					; MACHID_CLOCK = 1
; vmsrc/apple/cmdjit.pla: 0035: const MACHID_80COL = $02
					; MACHID_80COL = 2
; vmsrc/apple/cmdjit.pla: 0036: const MACHID_MEM   = $30
					; MACHID_MEM = 48
; vmsrc/apple/cmdjit.pla: 0037: const MACHID_64K   = $20
					; MACHID_64K = 32
; vmsrc/apple/cmdjit.pla: 0038: const MACHID_128K  = $30
					; MACHID_128K = 48
; vmsrc/apple/cmdjit.pla: 0039: const MACHID_MODEL = $C8
					; MACHID_MODEL = 200
; vmsrc/apple/cmdjit.pla: 0040: const MACHID_II    = $00
					; MACHID_II = 0
; vmsrc/apple/cmdjit.pla: 0041: const MACHID_IIPLUS= $40
					; MACHID_IIPLUS = 64
; vmsrc/apple/cmdjit.pla: 0042: const MACHID_IIE   = $80
					; MACHID_IIE = 128
; vmsrc/apple/cmdjit.pla: 0043: const MACHID_III   = $C0
					; MACHID_III = 192
; vmsrc/apple/cmdjit.pla: 0044: const MACHID_IIC   = $88
					; MACHID_IIC = 136
; vmsrc/apple/cmdjit.pla: 0045: const MACHID_I     = $08
					; MACHID_I = 8
; vmsrc/apple/cmdjit.pla: 0046: //
; vmsrc/apple/cmdjit.pla: 0047: // Prefix commands
; vmsrc/apple/cmdjit.pla: 0048: //
; vmsrc/apple/cmdjit.pla: 0049: const GET_PFX     = $C7
					; GET_PFX = 199
; vmsrc/apple/cmdjit.pla: 0050: const SET_PFX     = $C6
					; SET_PFX = 198
; vmsrc/apple/cmdjit.pla: 0051: //
; vmsrc/apple/cmdjit.pla: 0052: // Indirect interpreter DEFinition entrypoint
; vmsrc/apple/cmdjit.pla: 0053: //
; vmsrc/apple/cmdjit.pla: 0054: struc t_defentry
; vmsrc/apple/cmdjit.pla: 0055:     byte interpjsr
					; interpjsr = 0
; vmsrc/apple/cmdjit.pla: 0056:     word interpaddr
					; interpaddr = 1
; vmsrc/apple/cmdjit.pla: 0057:     word bytecodeaddr
					; bytecodeaddr = 3
; vmsrc/apple/cmdjit.pla: 0058:     byte callcount
					; callcount = 5
; vmsrc/apple/cmdjit.pla: 0059:     byte bytecodesize
					; bytecodesize = 6
; vmsrc/apple/cmdjit.pla: 0060: end
					; t_defentry = 7
; vmsrc/apple/cmdjit.pla: 0061: //
; vmsrc/apple/cmdjit.pla: 0062: // JIT compiler constants
; vmsrc/apple/cmdjit.pla: 0063: //
; vmsrc/apple/cmdjit.pla: 0064: const jitcbuf     = $AF00
					; jitcbuf = 44800
; vmsrc/apple/cmdjit.pla: 0065: const jitcomp     = $03E2
					; jitcomp = 994
; vmsrc/apple/cmdjit.pla: 0066: const jitcodeptr  = $03E4
					; jitcodeptr = 996
; vmsrc/apple/cmdjit.pla: 0067: const jitmod      = $02F0
					; jitmod = 752
; vmsrc/apple/cmdjit.pla: 0068: //
; vmsrc/apple/cmdjit.pla: 0069: // Pedefined functions.
; vmsrc/apple/cmdjit.pla: 0070: //
; vmsrc/apple/cmdjit.pla: 0071: predef syscall(cmd,params)#1, call(addr,areg,xreg,yreg,status)#1
; vmsrc/apple/cmdjit.pla: 0072: predef crout()#0, cout(c)#0, prstr(s)#0, prbyte(b)#0, prword(w)#0, print(i)#0, cin()#1, rdstr(p)#1, toupper(c)#1
; vmsrc/apple/cmdjit.pla: 0073: predef markheap()#1, allocheap(size)#1, allocalignheap(size, pow2, freeaddr)#1, releaseheap(newheap)#1, availheap()#1
; vmsrc/apple/cmdjit.pla: 0074: predef memset(addr,value,size)#0, memcpy(dst,src,size)#0, strcpy(dst,src)#1, strcat(dst,src)#1
; vmsrc/apple/cmdjit.pla: 0075: predef uword_isgt(a,b)#1, uword_isge(a,b)#1, uword_islt(a,b)#1, uword_isle(a,b)#1, sext(a)#1, divmod(a,b)#2
; vmsrc/apple/cmdjit.pla: 0076: predef execmod(modfile)#1, open(path)#1, close(refnum)#1, read(refnum, buf, len)#1
; vmsrc/apple/cmdjit.pla: 0077: predef lookuptbl(dci)#1, execsys(sysfile)#0
; vmsrc/apple/cmdjit.pla: 0078: //
; vmsrc/apple/cmdjit.pla: 0079: // Exported CMDSYS table
; vmsrc/apple/cmdjit.pla: 0080: //
; vmsrc/apple/cmdjit.pla: 0081: word version    = $0221 // 02.21
_D032 					; version    = $0221 // 02.21
	!WORD	$0221
; vmsrc/apple/cmdjit.pla: 0082: word syspath
_D033 	!FILL	2			; syspath
; vmsrc/apple/cmdjit.pla: 0083: word syscmdln
_D034 	!FILL	2			; syscmdln
; vmsrc/apple/cmdjit.pla: 0084: word            = @execmod, @open, @close, @read, 0
_F000 	!WORD	_P026
_F001 	!WORD	_P027
_F002 	!WORD	_P028
_F003 	!WORD	_P029
	!WORD	$0000
; vmsrc/apple/cmdjit.pla: 0085: byte perr
_D035 	!FILL	1			; perr
; vmsrc/apple/cmdjit.pla: 0086: byte jitcount   = 0
_D036 					; jitcount   = 0
	!BYTE	$00
; vmsrc/apple/cmdjit.pla: 0087: byte jitsize    = 0
_D037 					; jitsize    = 0
	!BYTE	$00
; vmsrc/apple/cmdjit.pla: 0088: word            = @execsys // Different between Apple II and ///
_F004 	!WORD	_P031
; vmsrc/apple/cmdjit.pla: 0089: word            = @lookuptbl
_F005 	!WORD	_P030
; vmsrc/apple/cmdjit.pla: 0090: word systemflags = 0
_D038 					; systemflags = 0
	!WORD	$0000
; vmsrc/apple/cmdjit.pla: 0091: //
; vmsrc/apple/cmdjit.pla: 0092: // Working input buffer overlayed with strings table
; vmsrc/apple/cmdjit.pla: 0093: //
; vmsrc/apple/cmdjit.pla: 0094: byte cmdln      = ""
_D039 					; cmdln      = ""
	!BYTE	$00
; vmsrc/apple/cmdjit.pla: 0095: //
; vmsrc/apple/cmdjit.pla: 0096: // Name for auto-run file (must follow cmdln)
; vmsrc/apple/cmdjit.pla: 0097: //
; vmsrc/apple/cmdjit.pla: 0098: byte autorun    = "AUTORUN"
_D040 					; autorun    = "AUTORUN"
	!BYTE	$07
	!BYTE	$41,$55,$54,$4F,$52,$55,$4E
; vmsrc/apple/cmdjit.pla: 0099: //
; vmsrc/apple/cmdjit.pla: 0100: // Standard Library exported functions.
; vmsrc/apple/cmdjit.pla: 0101: //
; vmsrc/apple/cmdjit.pla: 0102: byte sysmodstr  = "CMDSYS"
_D041 					; sysmodstr  = "CMDSYS"
	!BYTE	$06
	!BYTE	$43,$4D,$44,$53,$59,$53
; vmsrc/apple/cmdjit.pla: 0103: byte putsstr    = "PUTS"
_D042 					; putsstr    = "PUTS"
	!BYTE	$04
	!BYTE	$50,$55,$54,$53
; vmsrc/apple/cmdjit.pla: 0104: byte putistr    = "PUTI"
_D043 					; putistr    = "PUTI"
	!BYTE	$04
	!BYTE	$50,$55,$54,$49
; vmsrc/apple/cmdjit.pla: 0105: byte putcstr    = "PUTC"
_D044 					; putcstr    = "PUTC"
	!BYTE	$04
	!BYTE	$50,$55,$54,$43
; vmsrc/apple/cmdjit.pla: 0106: byte putlnstr   = "PUTLN"
_D045 					; putlnstr   = "PUTLN"
	!BYTE	$05
	!BYTE	$50,$55,$54,$4C,$4E
; vmsrc/apple/cmdjit.pla: 0107: byte putbstr    = "PUTB"
_D046 					; putbstr    = "PUTB"
	!BYTE	$04
	!BYTE	$50,$55,$54,$42
; vmsrc/apple/cmdjit.pla: 0108: byte putwstr    = "PUTH"
_D047 					; putwstr    = "PUTH"
	!BYTE	$04
	!BYTE	$50,$55,$54,$48
; vmsrc/apple/cmdjit.pla: 0109: byte getcstr    = "GETC"
_D048 					; getcstr    = "GETC"
	!BYTE	$04
	!BYTE	$47,$45,$54,$43
; vmsrc/apple/cmdjit.pla: 0110: byte getsstr    = "GETS"
_D049 					; getsstr    = "GETS"
	!BYTE	$04
	!BYTE	$47,$45,$54,$53
; vmsrc/apple/cmdjit.pla: 0111: byte toupstr    = "TOUPPER"
_D050 					; toupstr    = "TOUPPER"
	!BYTE	$07
	!BYTE	$54,$4F,$55,$50,$50,$45,$52
; vmsrc/apple/cmdjit.pla: 0112: byte strcpystr  = "STRCPY"
_D051 					; strcpystr  = "STRCPY"
	!BYTE	$06
	!BYTE	$53,$54,$52,$43,$50,$59
; vmsrc/apple/cmdjit.pla: 0113: byte strcatstr  = "STRCAT"
_D052 					; strcatstr  = "STRCAT"
	!BYTE	$06
	!BYTE	$53,$54,$52,$43,$41,$54
; vmsrc/apple/cmdjit.pla: 0114: byte hpmarkstr  = "HEAPMARK"
_D053 					; hpmarkstr  = "HEAPMARK"
	!BYTE	$08
	!BYTE	$48,$45,$41,$50,$4D,$41,$52,$4B
; vmsrc/apple/cmdjit.pla: 0115: byte hpalignstr = "HEAPALLOCALIGN"
_D054 					; hpalignstr = "HEAPALLOCALIGN"
	!BYTE	$0E
	!BYTE	$48,$45,$41,$50,$41,$4C,$4C,$4F
	!BYTE	$43,$41,$4C,$49,$47,$4E
; vmsrc/apple/cmdjit.pla: 0116: byte hpallocstr = "HEAPALLOC"
_D055 					; hpallocstr = "HEAPALLOC"
	!BYTE	$09
	!BYTE	$48,$45,$41,$50,$41,$4C,$4C,$4F
	!BYTE	$43
; vmsrc/apple/cmdjit.pla: 0117: byte hprelstr   = "HEAPRELEASE"
_D056 					; hprelstr   = "HEAPRELEASE"
	!BYTE	$0B
	!BYTE	$48,$45,$41,$50,$52,$45,$4C,$45
	!BYTE	$41,$53,$45
; vmsrc/apple/cmdjit.pla: 0118: byte hpavlstr   = "HEAPAVAIL"
_D057 					; hpavlstr   = "HEAPAVAIL"
	!BYTE	$09
	!BYTE	$48,$45,$41,$50,$41,$56,$41,$49
	!BYTE	$4C
; vmsrc/apple/cmdjit.pla: 0119: word memsetstr  = "MEMSET"
_D058 					; memsetstr  = "MEMSET"
	!BYTE	$06
	!BYTE	$4D,$45,$4D,$53,$45,$54
; vmsrc/apple/cmdjit.pla: 0120: byte memcpystr  = "MEMCPY"
_D059 					; memcpystr  = "MEMCPY"
	!BYTE	$06
	!BYTE	$4D,$45,$4D,$43,$50,$59
; vmsrc/apple/cmdjit.pla: 0121: byte uisgtstr   = "ISUGT"
_D060 					; uisgtstr   = "ISUGT"
	!BYTE	$05
	!BYTE	$49,$53,$55,$47,$54
; vmsrc/apple/cmdjit.pla: 0122: byte uisgestr   = "ISUGE"
_D061 					; uisgestr   = "ISUGE"
	!BYTE	$05
	!BYTE	$49,$53,$55,$47,$45
; vmsrc/apple/cmdjit.pla: 0123: byte uisltstr   = "ISULT"
_D062 					; uisltstr   = "ISULT"
	!BYTE	$05
	!BYTE	$49,$53,$55,$4C,$54
; vmsrc/apple/cmdjit.pla: 0124: byte uislestr   = "ISULE"
_D063 					; uislestr   = "ISULE"
	!BYTE	$05
	!BYTE	$49,$53,$55,$4C,$45
; vmsrc/apple/cmdjit.pla: 0125: byte sextstr    = "SEXT"
_D064 					; sextstr    = "SEXT"
	!BYTE	$04
	!BYTE	$53,$45,$58,$54
; vmsrc/apple/cmdjit.pla: 0126: byte divmodstr  = "DIVMOD"
_D065 					; divmodstr  = "DIVMOD"
	!BYTE	$06
	!BYTE	$44,$49,$56,$4D,$4F,$44
; vmsrc/apple/cmdjit.pla: 0127: byte machidstr  = "MACHID"
_D066 					; machidstr  = "MACHID"
	!BYTE	$06
	!BYTE	$4D,$41,$43,$48,$49,$44
; vmsrc/apple/cmdjit.pla: 0128: byte sysstr     = "SYSCALL"
_D067 					; sysstr     = "SYSCALL"
	!BYTE	$07
	!BYTE	$53,$59,$53,$43,$41,$4C,$4C
; vmsrc/apple/cmdjit.pla: 0129: byte callstr    = "CALL"
_D068 					; callstr    = "CALL"
	!BYTE	$04
	!BYTE	$43,$41,$4C,$4C
; vmsrc/apple/cmdjit.pla: 0130: word exports    = @sysmodstr, @version
_D069 					; exports    = @sysmodstr, @version
_F006 	!WORD	_D041
_F007 	!WORD	_D032
; vmsrc/apple/cmdjit.pla: 0131: word            = @sysstr,    @syscall
_F008 	!WORD	_D067
_F009 	!WORD	_P000
; vmsrc/apple/cmdjit.pla: 0132: word            = @callstr,   @call
_F010 	!WORD	_D068
_F011 	!WORD	_P001
; vmsrc/apple/cmdjit.pla: 0133: word            = @putcstr,   @cout
_F012 	!WORD	_D044
_F013 	!WORD	_P003
; vmsrc/apple/cmdjit.pla: 0134: word            = @putlnstr,  @crout
_F014 	!WORD	_D045
_F015 	!WORD	_P002
; vmsrc/apple/cmdjit.pla: 0135: word            = @putsstr,   @prstr
_F016 	!WORD	_D042
_F017 	!WORD	_P004
; vmsrc/apple/cmdjit.pla: 0136: word            = @putbstr,   @prbyte
_F018 	!WORD	_D046
_F019 	!WORD	_P005
; vmsrc/apple/cmdjit.pla: 0137: word            = @putwstr,   @prword
_F020 	!WORD	_D047
_F021 	!WORD	_P006
; vmsrc/apple/cmdjit.pla: 0138: word            = @putistr,   @print
_F022 	!WORD	_D043
_F023 	!WORD	_P007
; vmsrc/apple/cmdjit.pla: 0139: word            = @getcstr,   @cin
_F024 	!WORD	_D048
_F025 	!WORD	_P008
; vmsrc/apple/cmdjit.pla: 0140: word            = @getsstr,   @rdstr
_F026 	!WORD	_D049
_F027 	!WORD	_P009
; vmsrc/apple/cmdjit.pla: 0141: word            = @toupstr,   @toupper
_F028 	!WORD	_D050
_F029 	!WORD	_P010
; vmsrc/apple/cmdjit.pla: 0142: word            = @hpmarkstr, @markheap
_F030 	!WORD	_D053
_F031 	!WORD	_P011
; vmsrc/apple/cmdjit.pla: 0143: byte sysmods[] // overlay with exported strings
_D070 					; sysmods[] // overlay with exported strings
; vmsrc/apple/cmdjit.pla: 0144: word            = @hpallocstr,@allocheap
_F032 	!WORD	_D055
_F033 	!WORD	_P012
; vmsrc/apple/cmdjit.pla: 0145: word            = @hpalignstr,@allocalignheap
_F034 	!WORD	_D054
_F035 	!WORD	_P013
; vmsrc/apple/cmdjit.pla: 0146: word            = @hprelstr,  @releaseheap
_F036 	!WORD	_D056
_F037 	!WORD	_P014
; vmsrc/apple/cmdjit.pla: 0147: word            = @hpavlstr,  @availheap
_F038 	!WORD	_D057
_F039 	!WORD	_P015
; vmsrc/apple/cmdjit.pla: 0148: word            = @memsetstr, @memset
_F040 	!WORD	_D058
_F041 	!WORD	_P016
; vmsrc/apple/cmdjit.pla: 0149: word            = @memcpystr, @memcpy
_F042 	!WORD	_D059
_F043 	!WORD	_P017
; vmsrc/apple/cmdjit.pla: 0150: word            = @uisgtstr,  @uword_isgt
_F044 	!WORD	_D060
_F045 	!WORD	_P020
; vmsrc/apple/cmdjit.pla: 0151: word            = @uisgestr,  @uword_isge
_F046 	!WORD	_D061
_F047 	!WORD	_P021
; vmsrc/apple/cmdjit.pla: 0152: word            = @uisltstr,  @uword_islt
_F048 	!WORD	_D062
_F049 	!WORD	_P022
; vmsrc/apple/cmdjit.pla: 0153: word            = @uislestr,  @uword_isle
_F050 	!WORD	_D063
_F051 	!WORD	_P023
; vmsrc/apple/cmdjit.pla: 0154: word            = @strcpystr, @strcpy
_F052 	!WORD	_D051
_F053 	!WORD	_P018
; vmsrc/apple/cmdjit.pla: 0155: word            = @strcatstr, @strcat
_F054 	!WORD	_D052
_F055 	!WORD	_P019
; vmsrc/apple/cmdjit.pla: 0156: word            = @sextstr,   @sext
_F056 	!WORD	_D064
_F057 	!WORD	_P024
; vmsrc/apple/cmdjit.pla: 0157: word            = @divmodstr, @divmod
_F058 	!WORD	_D065
_F059 	!WORD	_P025
; vmsrc/apple/cmdjit.pla: 0158: word            = @machidstr, MACHID
_F060 	!WORD	_D066
	!WORD	$BF98
; vmsrc/apple/cmdjit.pla: 0159: word            = 0
	!WORD	$0000
; vmsrc/apple/cmdjit.pla: 0160: word sysmodsym  = @exports
_D071 					; sysmodsym  = @exports
_F061 	!WORD	_D069
; vmsrc/apple/cmdjit.pla: 0161: //
; vmsrc/apple/cmdjit.pla: 0162: // System variable.
; vmsrc/apple/cmdjit.pla: 0163: //
; vmsrc/apple/cmdjit.pla: 0164: word heap
_D072 	!FILL	2			; heap
; vmsrc/apple/cmdjit.pla: 0165: word xheap       = $A000 // Set load address for JIT compiler
_D073 					; xheap       = $A000 // Set load address for JIT compiler
	!WORD	$A000
; vmsrc/apple/cmdjit.pla: 0166: word xheaptop    = $C000
_D074 					; xheaptop    = $C000
	!WORD	$C000
; vmsrc/apple/cmdjit.pla: 0167: word lastsym     = symtbl
_D075 					; lastsym     = symtbl
	!WORD	$A800
; vmsrc/apple/cmdjit.pla: 0168: //
; vmsrc/apple/cmdjit.pla: 0169: // Utility functions
; vmsrc/apple/cmdjit.pla: 0170: //
; vmsrc/apple/cmdjit.pla: 0171: //asm equates included from cmdstub.s
; vmsrc/apple/cmdjit.pla: 0172: //
; vmsrc/apple/cmdjit.pla: 0173: // CALL PRODOS
; vmsrc/apple/cmdjit.pla: 0174: // SYSCALL(CMD, PARAMS)
; vmsrc/apple/cmdjit.pla: 0175: //
; vmsrc/apple/cmdjit.pla: 0176: asm syscall(cmd,params)#1
_P000 					; syscall(cmd,params)#1()
_A000 					; syscall()
; vmsrc/apple/cmdjit.pla: 0177:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0178:         LDY     ESTKH,X
        LDY     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0179:         STA     PARAMS
        STA     PARAMS
; vmsrc/apple/cmdjit.pla: 0180:         STY     PARAMS+1
        STY     PARAMS+1
; vmsrc/apple/cmdjit.pla: 0181:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0182:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0183:         STA     CMD
        STA     CMD
; vmsrc/apple/cmdjit.pla: 0184:         JSR     $BF00
        JSR     $BF00
; vmsrc/apple/cmdjit.pla: 0185: CMD:    !BYTE   00
CMD:    !BYTE   00
; vmsrc/apple/cmdjit.pla: 0186: PARAMS: !WORD   0000
PARAMS: !WORD   0000
; vmsrc/apple/cmdjit.pla: 0187: ;        LDY     #$00
;        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0188:         STA     ESTKL,X
        STA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0189: ;        STY     ESTKH,X
;        STY     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0190:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0191: end
; vmsrc/apple/cmdjit.pla: 0192: //
; vmsrc/apple/cmdjit.pla: 0193: // CALL 6502 ROUTINE
; vmsrc/apple/cmdjit.pla: 0194: // CALL(ADDR, AREG, XREG, YREG, STATUS)
; vmsrc/apple/cmdjit.pla: 0195: //
; vmsrc/apple/cmdjit.pla: 0196: asm call(addr,areg,xreg,yreg,status)#1
_P001 					; call(addr,areg,xreg,yreg,status)#1()
_A001 					; call()
; vmsrc/apple/cmdjit.pla: 0197: REGVALS =   SRC
REGVALS =   SRC
; vmsrc/apple/cmdjit.pla: 0198:         PHP
        PHP
; vmsrc/apple/cmdjit.pla: 0199:         LDA     ESTKL+4,X
        LDA     ESTKL+4,X
; vmsrc/apple/cmdjit.pla: 0200:         STA     TMPL
        STA     TMPL
; vmsrc/apple/cmdjit.pla: 0201:         LDA     ESTKH+4,X
        LDA     ESTKH+4,X
; vmsrc/apple/cmdjit.pla: 0202:         STA     TMPH
        STA     TMPH
; vmsrc/apple/cmdjit.pla: 0203:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0204:         PHA
        PHA
; vmsrc/apple/cmdjit.pla: 0205:         LDY     ESTKL+1,X
        LDY     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0206:         LDA     ESTKL+3,X
        LDA     ESTKL+3,X
; vmsrc/apple/cmdjit.pla: 0207:         PHA
        PHA
; vmsrc/apple/cmdjit.pla: 0208:         LDA     ESTKL+2,X
        LDA     ESTKL+2,X
; vmsrc/apple/cmdjit.pla: 0209:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0210:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0211:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0212:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0213:         STX     ESP
        STX     ESP
; vmsrc/apple/cmdjit.pla: 0214:         TAX
        TAX
; vmsrc/apple/cmdjit.pla: 0215:         PLA
        PLA
; vmsrc/apple/cmdjit.pla: 0216:         BIT     ROMEN
        BIT     ROMEN
; vmsrc/apple/cmdjit.pla: 0217:         PLP
        PLP
; vmsrc/apple/cmdjit.pla: 0218:         JSR     JMPTMP
        JSR     JMPTMP
; vmsrc/apple/cmdjit.pla: 0219:         PHP
        PHP
; vmsrc/apple/cmdjit.pla: 0220:         BIT     LCRDEN+LCBNK2
        BIT     LCRDEN+LCBNK2
; vmsrc/apple/cmdjit.pla: 0221:         STA     REGVALS+0
        STA     REGVALS+0
; vmsrc/apple/cmdjit.pla: 0222:         STX     REGVALS+1
        STX     REGVALS+1
; vmsrc/apple/cmdjit.pla: 0223:         STY     REGVALS+2
        STY     REGVALS+2
; vmsrc/apple/cmdjit.pla: 0224:         PLA
        PLA
; vmsrc/apple/cmdjit.pla: 0225:         STA     REGVALS+3
        STA     REGVALS+3
; vmsrc/apple/cmdjit.pla: 0226:         LDX     ESP
        LDX     ESP
; vmsrc/apple/cmdjit.pla: 0227:         LDA     #<REGVALS
        LDA     #<REGVALS
; vmsrc/apple/cmdjit.pla: 0228:         LDY     #>REGVALS
        LDY     #>REGVALS
; vmsrc/apple/cmdjit.pla: 0229:         STA     ESTKL,X
        STA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0230:         STY     ESTKH,X
        STY     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0231:         PLP
        PLP
; vmsrc/apple/cmdjit.pla: 0232:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0233: end
; vmsrc/apple/cmdjit.pla: 0234: //
; vmsrc/apple/cmdjit.pla: 0235: // CALL LOADED SYSTEM PROGRAM
; vmsrc/apple/cmdjit.pla: 0236: //
; vmsrc/apple/cmdjit.pla: 0237: asm exec()#0
_A002 					; exec()
; vmsrc/apple/cmdjit.pla: 0238:         BIT     ROMEN
        BIT     ROMEN
; vmsrc/apple/cmdjit.pla: 0239:         JMP     $2000
        JMP     $2000
; vmsrc/apple/cmdjit.pla: 0240: end
; vmsrc/apple/cmdjit.pla: 0241: //
; vmsrc/apple/cmdjit.pla: 0242: // SET MEMORY TO VALUE
; vmsrc/apple/cmdjit.pla: 0243: // MEMSET(ADDR, VALUE, SIZE)
; vmsrc/apple/cmdjit.pla: 0244: //   With optimizations from Peter Ferrie
; vmsrc/apple/cmdjit.pla: 0245: //
; vmsrc/apple/cmdjit.pla: 0246: asm memset(addr,value,size)#0
_P016 					; memset(addr,value,size)#0()
_A003 					; memset()
; vmsrc/apple/cmdjit.pla: 0247:         LDA     ESTKL+2,X
        LDA     ESTKL+2,X
; vmsrc/apple/cmdjit.pla: 0248:         STA     DSTL
        STA     DSTL
; vmsrc/apple/cmdjit.pla: 0249:         LDA     ESTKH+2,X
        LDA     ESTKH+2,X
; vmsrc/apple/cmdjit.pla: 0250:         STA     DSTH
        STA     DSTH
; vmsrc/apple/cmdjit.pla: 0251:         LDY     ESTKL,X
        LDY     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0252:         BEQ     +
        BEQ     +
; vmsrc/apple/cmdjit.pla: 0253:         INC     ESTKH,X
        INC     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0254:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0255: +       LDA     ESTKH,X
+       LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0256:         BEQ     SETMEX
        BEQ     SETMEX
; vmsrc/apple/cmdjit.pla: 0257: SETMLPL CLC
SETMLPL CLC
; vmsrc/apple/cmdjit.pla: 0258:         LDA     ESTKL+1,X
        LDA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0259: SETMLPH STA     (DST),Y
SETMLPH STA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0260:         DEC     ESTKL,X
        DEC     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0261:         BEQ     ++
        BEQ     ++
; vmsrc/apple/cmdjit.pla: 0262: -       INY
-       INY
; vmsrc/apple/cmdjit.pla: 0263:         BEQ     +
        BEQ     +
; vmsrc/apple/cmdjit.pla: 0264: --      BCS     SETMLPL
--      BCS     SETMLPL
; vmsrc/apple/cmdjit.pla: 0265:         SEC
        SEC
; vmsrc/apple/cmdjit.pla: 0266:         LDA     ESTKH+1,X
        LDA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0267:         BCS     SETMLPH
        BCS     SETMLPH
; vmsrc/apple/cmdjit.pla: 0268: +       INC     DSTH
+       INC     DSTH
; vmsrc/apple/cmdjit.pla: 0269:         BNE     --
        BNE     --
; vmsrc/apple/cmdjit.pla: 0270: ++      DEC     ESTKH,X
++      DEC     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0271:         BNE     -
        BNE     -
; vmsrc/apple/cmdjit.pla: 0272: SETMEX  INX
SETMEX  INX
; vmsrc/apple/cmdjit.pla: 0273:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0274:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0275:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0276: end
; vmsrc/apple/cmdjit.pla: 0277: //
; vmsrc/apple/cmdjit.pla: 0278: // COPY MEMORY
; vmsrc/apple/cmdjit.pla: 0279: // MEMCPY(DSTADDR, SRCADDR, SIZE)
; vmsrc/apple/cmdjit.pla: 0280: //
; vmsrc/apple/cmdjit.pla: 0281: asm memcpy(dst,src,size)#0
_P017 					; memcpy(dst,src,size)#0()
_A004 					; memcpy()
; vmsrc/apple/cmdjit.pla: 0282:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0283:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0284:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0285:         LDA     ESTKL-3,X
        LDA     ESTKL-3,X
; vmsrc/apple/cmdjit.pla: 0286:         ORA     ESTKH-3,X
        ORA     ESTKH-3,X
; vmsrc/apple/cmdjit.pla: 0287:         BEQ     CPYMEX
        BEQ     CPYMEX
; vmsrc/apple/cmdjit.pla: 0288:         LDA     ESTKL-2,X
        LDA     ESTKL-2,X
; vmsrc/apple/cmdjit.pla: 0289:         CMP     ESTKL-1,X
        CMP     ESTKL-1,X
; vmsrc/apple/cmdjit.pla: 0290:         LDA     ESTKH-2,X
        LDA     ESTKH-2,X
; vmsrc/apple/cmdjit.pla: 0291:         SBC     ESTKH-1,X
        SBC     ESTKH-1,X
; vmsrc/apple/cmdjit.pla: 0292:         BCC     REVCPY
        BCC     REVCPY
; vmsrc/apple/cmdjit.pla: 0293: ;
; vmsrc/apple/cmdjit.pla: 0294: ; FORWARD COPY
; FORWARD COPY
; vmsrc/apple/cmdjit.pla: 0295: ;
; vmsrc/apple/cmdjit.pla: 0296:         LDA     ESTKL-1,X
        LDA     ESTKL-1,X
; vmsrc/apple/cmdjit.pla: 0297:         STA     DSTL
        STA     DSTL
; vmsrc/apple/cmdjit.pla: 0298:         LDA     ESTKH-1,X
        LDA     ESTKH-1,X
; vmsrc/apple/cmdjit.pla: 0299:         STA     DSTH
        STA     DSTH
; vmsrc/apple/cmdjit.pla: 0300:         LDA     ESTKL-2,X
        LDA     ESTKL-2,X
; vmsrc/apple/cmdjit.pla: 0301:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0302:         LDA     ESTKH-2,X
        LDA     ESTKH-2,X
; vmsrc/apple/cmdjit.pla: 0303:         STA     SRCH
        STA     SRCH
; vmsrc/apple/cmdjit.pla: 0304:         LDY     ESTKL-3,X
        LDY     ESTKL-3,X
; vmsrc/apple/cmdjit.pla: 0305:         BEQ     FORCPYLP
        BEQ     FORCPYLP
; vmsrc/apple/cmdjit.pla: 0306:         INC     ESTKH-3,X
        INC     ESTKH-3,X
; vmsrc/apple/cmdjit.pla: 0307:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0308: FORCPYLP LDA    (SRC),Y
FORCPYLP LDA    (SRC),Y
; vmsrc/apple/cmdjit.pla: 0309:         STA     (DST),Y
        STA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0310:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0311:         BNE     +
        BNE     +
; vmsrc/apple/cmdjit.pla: 0312:         INC     DSTH
        INC     DSTH
; vmsrc/apple/cmdjit.pla: 0313:         INC     SRCH
        INC     SRCH
; vmsrc/apple/cmdjit.pla: 0314: +       DEC     ESTKL-3,X
+       DEC     ESTKL-3,X
; vmsrc/apple/cmdjit.pla: 0315:         BNE     FORCPYLP
        BNE     FORCPYLP
; vmsrc/apple/cmdjit.pla: 0316:         DEC     ESTKH-3,X
        DEC     ESTKH-3,X
; vmsrc/apple/cmdjit.pla: 0317:         BNE     FORCPYLP
        BNE     FORCPYLP
; vmsrc/apple/cmdjit.pla: 0318:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0319: ;
; vmsrc/apple/cmdjit.pla: 0320: ; REVERSE COPY
; REVERSE COPY
; vmsrc/apple/cmdjit.pla: 0321: ;
; vmsrc/apple/cmdjit.pla: 0322: REVCPY  ;CLC
REVCPY  ;CLC
; vmsrc/apple/cmdjit.pla: 0323:         LDA     ESTKL-3,X
        LDA     ESTKL-3,X
; vmsrc/apple/cmdjit.pla: 0324:         ADC     ESTKL-1,X
        ADC     ESTKL-1,X
; vmsrc/apple/cmdjit.pla: 0325:         STA     DSTL
        STA     DSTL
; vmsrc/apple/cmdjit.pla: 0326:         LDA     ESTKH-3,X
        LDA     ESTKH-3,X
; vmsrc/apple/cmdjit.pla: 0327:         ADC     ESTKH-1,X
        ADC     ESTKH-1,X
; vmsrc/apple/cmdjit.pla: 0328:         STA     DSTH
        STA     DSTH
; vmsrc/apple/cmdjit.pla: 0329:         CLC
        CLC
; vmsrc/apple/cmdjit.pla: 0330:         LDA     ESTKL-3,X
        LDA     ESTKL-3,X
; vmsrc/apple/cmdjit.pla: 0331:         ADC     ESTKL-2,X
        ADC     ESTKL-2,X
; vmsrc/apple/cmdjit.pla: 0332:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0333:         LDA     ESTKH-3,X
        LDA     ESTKH-3,X
; vmsrc/apple/cmdjit.pla: 0334:         ADC     ESTKH-2,X
        ADC     ESTKH-2,X
; vmsrc/apple/cmdjit.pla: 0335:         STA     SRCH
        STA     SRCH
; vmsrc/apple/cmdjit.pla: 0336:         DEC     DSTH
        DEC     DSTH
; vmsrc/apple/cmdjit.pla: 0337:         DEC     SRCH
        DEC     SRCH
; vmsrc/apple/cmdjit.pla: 0338:         LDY     #$FF
        LDY     #$FF
; vmsrc/apple/cmdjit.pla: 0339:         LDA     ESTKL-3,X
        LDA     ESTKL-3,X
; vmsrc/apple/cmdjit.pla: 0340:         BEQ     REVCPYLP
        BEQ     REVCPYLP
; vmsrc/apple/cmdjit.pla: 0341:         INC     ESTKH-3,X
        INC     ESTKH-3,X
; vmsrc/apple/cmdjit.pla: 0342: REVCPYLP LDA    (SRC),Y
REVCPYLP LDA    (SRC),Y
; vmsrc/apple/cmdjit.pla: 0343:         STA     (DST),Y
        STA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0344:         DEY
        DEY
; vmsrc/apple/cmdjit.pla: 0345:         CPY     #$FF
        CPY     #$FF
; vmsrc/apple/cmdjit.pla: 0346:         BNE     +
        BNE     +
; vmsrc/apple/cmdjit.pla: 0347:         DEC     DSTH
        DEC     DSTH
; vmsrc/apple/cmdjit.pla: 0348:         DEC     SRCH
        DEC     SRCH
; vmsrc/apple/cmdjit.pla: 0349: +       DEC     ESTKL-3,X
+       DEC     ESTKL-3,X
; vmsrc/apple/cmdjit.pla: 0350:         BNE     REVCPYLP
        BNE     REVCPYLP
; vmsrc/apple/cmdjit.pla: 0351:         DEC     ESTKH-3,X
        DEC     ESTKH-3,X
; vmsrc/apple/cmdjit.pla: 0352:         BNE     REVCPYLP
        BNE     REVCPYLP
; vmsrc/apple/cmdjit.pla: 0353: CPYMEX  RTS
CPYMEX  RTS
; vmsrc/apple/cmdjit.pla: 0354: end
; vmsrc/apple/cmdjit.pla: 0355: asm crout()#0
_P002 					; crout()#0()
_A005 					; crout()
; vmsrc/apple/cmdjit.pla: 0356:         LDA     #$8D
        LDA     #$8D
; vmsrc/apple/cmdjit.pla: 0357:         BNE     ++
        BNE     ++
; vmsrc/apple/cmdjit.pla: 0358: end
; vmsrc/apple/cmdjit.pla: 0359: //
; vmsrc/apple/cmdjit.pla: 0360: // CHAR OUT
; vmsrc/apple/cmdjit.pla: 0361: // COUT(CHAR)
; vmsrc/apple/cmdjit.pla: 0362: //
; vmsrc/apple/cmdjit.pla: 0363: asm cout(c)#0
_P003 					; cout(c)#0()
_A006 					; cout()
; vmsrc/apple/cmdjit.pla: 0364:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0365:         BIT     $BF98
        BIT     $BF98
; vmsrc/apple/cmdjit.pla: 0366:         BMI     +
        BMI     +
; vmsrc/apple/cmdjit.pla: 0367:         JSR     TOUPR
        JSR     TOUPR
; vmsrc/apple/cmdjit.pla: 0368: +       ORA     #$80
+       ORA     #$80
; vmsrc/apple/cmdjit.pla: 0369:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0370: ++      BIT     ROMEN
++      BIT     ROMEN
; vmsrc/apple/cmdjit.pla: 0371:         JSR     $FDED
        JSR     $FDED
; vmsrc/apple/cmdjit.pla: 0372:         BIT     LCRDEN+LCBNK2
        BIT     LCRDEN+LCBNK2
; vmsrc/apple/cmdjit.pla: 0373:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0374: end
; vmsrc/apple/cmdjit.pla: 0375: //
; vmsrc/apple/cmdjit.pla: 0376: // CHAR IN
; vmsrc/apple/cmdjit.pla: 0377: // RDKEY()
; vmsrc/apple/cmdjit.pla: 0378: //
; vmsrc/apple/cmdjit.pla: 0379: asm cin()#1
_P008 					; cin()#1()
_A007 					; cin()
; vmsrc/apple/cmdjit.pla: 0380:         BIT     ROMEN
        BIT     ROMEN
; vmsrc/apple/cmdjit.pla: 0381:         JSR     $FD0C
        JSR     $FD0C
; vmsrc/apple/cmdjit.pla: 0382:         BIT     LCRDEN+LCBNK2
        BIT     LCRDEN+LCBNK2
; vmsrc/apple/cmdjit.pla: 0383:         DEX
        DEX
; vmsrc/apple/cmdjit.pla: 0384:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0385:         AND     #$7F
        AND     #$7F
; vmsrc/apple/cmdjit.pla: 0386:         STA     ESTKL,X
        STA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0387:         STY     ESTKH,X
        STY     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0388:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0389: end
; vmsrc/apple/cmdjit.pla: 0390: //
; vmsrc/apple/cmdjit.pla: 0391: // PRINT STRING
; vmsrc/apple/cmdjit.pla: 0392: // PRSTR(STR)
; vmsrc/apple/cmdjit.pla: 0393: //
; vmsrc/apple/cmdjit.pla: 0394: asm prstr(s)#0
_P004 					; prstr(s)#0()
_A008 					; prstr()
; vmsrc/apple/cmdjit.pla: 0395:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0396:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0397:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0398:         LDA     ESTKH,X
        LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0399:         STA     SRCH
        STA     SRCH
; vmsrc/apple/cmdjit.pla: 0400:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0401:         BEQ     ++
        BEQ     ++
; vmsrc/apple/cmdjit.pla: 0402:         STA     TMP
        STA     TMP
; vmsrc/apple/cmdjit.pla: 0403:         BIT     ROMEN
        BIT     ROMEN
; vmsrc/apple/cmdjit.pla: 0404: -       INY
-       INY
; vmsrc/apple/cmdjit.pla: 0405:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0406:         BIT     $BF98
        BIT     $BF98
; vmsrc/apple/cmdjit.pla: 0407:         BMI     +
        BMI     +
; vmsrc/apple/cmdjit.pla: 0408:         JSR     TOUPR
        JSR     TOUPR
; vmsrc/apple/cmdjit.pla: 0409: +       ORA     #$80
+       ORA     #$80
; vmsrc/apple/cmdjit.pla: 0410:         JSR     $FDED
        JSR     $FDED
; vmsrc/apple/cmdjit.pla: 0411:         CPY     TMP
        CPY     TMP
; vmsrc/apple/cmdjit.pla: 0412:         BNE     -
        BNE     -
; vmsrc/apple/cmdjit.pla: 0413:         BIT     LCRDEN+LCBNK2
        BIT     LCRDEN+LCBNK2
; vmsrc/apple/cmdjit.pla: 0414: ++      INX
++      INX
; vmsrc/apple/cmdjit.pla: 0415:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0416: end
; vmsrc/apple/cmdjit.pla: 0417: //
; vmsrc/apple/cmdjit.pla: 0418: // PRINT WORD
; vmsrc/apple/cmdjit.pla: 0419: //
; vmsrc/apple/cmdjit.pla: 0420: asm prword(w)#0
_P006 					; prword(w)#0()
_A009 					; prword()
; vmsrc/apple/cmdjit.pla: 0421:         LDA     ESTKH,X
        LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0422:         JSR     +
        JSR     +
; vmsrc/apple/cmdjit.pla: 0423:         DEX
        DEX
; vmsrc/apple/cmdjit.pla: 0424:         ; FALL THROUGH TO PRBYTE
        ; FALL THROUGH TO PRBYTE
; vmsrc/apple/cmdjit.pla: 0425: end
; vmsrc/apple/cmdjit.pla: 0426: //
; vmsrc/apple/cmdjit.pla: 0427: // PRINT BYTE
; vmsrc/apple/cmdjit.pla: 0428: //
; vmsrc/apple/cmdjit.pla: 0429: asm prbyte(b)#0
_P005 					; prbyte(b)#0()
_A010 					; prbyte()
; vmsrc/apple/cmdjit.pla: 0430:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0431: +       STX     ESP
+       STX     ESP
; vmsrc/apple/cmdjit.pla: 0432:         BIT     ROMEN
        BIT     ROMEN
; vmsrc/apple/cmdjit.pla: 0433:         JSR     $FDDA
        JSR     $FDDA
; vmsrc/apple/cmdjit.pla: 0434:         LDX     ESP
        LDX     ESP
; vmsrc/apple/cmdjit.pla: 0435:         BIT     LCRDEN+LCBNK2
        BIT     LCRDEN+LCBNK2
; vmsrc/apple/cmdjit.pla: 0436:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0437:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0438: end
; vmsrc/apple/cmdjit.pla: 0439: //
; vmsrc/apple/cmdjit.pla: 0440: // READ STRING
; vmsrc/apple/cmdjit.pla: 0441: // STR = RDSTR(PROMPTCHAR)
; vmsrc/apple/cmdjit.pla: 0442: //
; vmsrc/apple/cmdjit.pla: 0443: asm rdstr(p)#1
_P009 					; rdstr(p)#1()
_A011 					; rdstr()
; vmsrc/apple/cmdjit.pla: 0444:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0445:         STA     $33
        STA     $33
; vmsrc/apple/cmdjit.pla: 0446:         STX     ESP
        STX     ESP
; vmsrc/apple/cmdjit.pla: 0447:         BIT     ROMEN
        BIT     ROMEN
; vmsrc/apple/cmdjit.pla: 0448:         JSR     $FD6A
        JSR     $FD6A
; vmsrc/apple/cmdjit.pla: 0449:         STX     $01FF
        STX     $01FF
; vmsrc/apple/cmdjit.pla: 0450: -       LDA     $01FF,X
-       LDA     $01FF,X
; vmsrc/apple/cmdjit.pla: 0451:         AND     #$7F
        AND     #$7F
; vmsrc/apple/cmdjit.pla: 0452:         STA     $01FF,X
        STA     $01FF,X
; vmsrc/apple/cmdjit.pla: 0453:         DEX
        DEX
; vmsrc/apple/cmdjit.pla: 0454:         BPL     -
        BPL     -
; vmsrc/apple/cmdjit.pla: 0455:         TXA
        TXA
; vmsrc/apple/cmdjit.pla: 0456:         LDX     ESP
        LDX     ESP
; vmsrc/apple/cmdjit.pla: 0457:         STA     ESTKL,X
        STA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0458:         LDA     #$01
        LDA     #$01
; vmsrc/apple/cmdjit.pla: 0459:         STA     ESTKH,X
        STA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0460:         BIT     LCRDEN+LCBNK2
        BIT     LCRDEN+LCBNK2
; vmsrc/apple/cmdjit.pla: 0461:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0462: end
; vmsrc/apple/cmdjit.pla: 0463: asm uword_isge(a,b)#1
_P021 					; uword_isge(a,b)#1()
_A012 					; uword_isge()
; vmsrc/apple/cmdjit.pla: 0464:         LDA     ESTKL+1,X
        LDA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0465:         CMP     ESTKL,X
        CMP     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0466:         LDA     ESTKH+1,X
        LDA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0467:         SBC     ESTKH,X
        SBC     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0468:         LDA     #$FF
        LDA     #$FF
; vmsrc/apple/cmdjit.pla: 0469:         ADC     #$00
        ADC     #$00
; vmsrc/apple/cmdjit.pla: 0470:         EOR     #$FF
        EOR     #$FF
; vmsrc/apple/cmdjit.pla: 0471:         STA     ESTKL+1,X
        STA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0472:         STA     ESTKH+1,X
        STA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0473:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0474:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0475: end
; vmsrc/apple/cmdjit.pla: 0476: asm uword_isle(a,b)#1
_P023 					; uword_isle(a,b)#1()
_A013 					; uword_isle()
; vmsrc/apple/cmdjit.pla: 0477:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0478:         CMP     ESTKL+1,X
        CMP     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0479:         LDA     ESTKH,X
        LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0480:         SBC     ESTKH+1,X
        SBC     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0481:         LDA     #$FF
        LDA     #$FF
; vmsrc/apple/cmdjit.pla: 0482:         ADC     #$00
        ADC     #$00
; vmsrc/apple/cmdjit.pla: 0483:         EOR     #$FF
        EOR     #$FF
; vmsrc/apple/cmdjit.pla: 0484:         STA     ESTKL+1,X
        STA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0485:         STA     ESTKH+1,X
        STA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0486:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0487:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0488: end
; vmsrc/apple/cmdjit.pla: 0489: asm uword_isgt(a,b)#1
_P020 					; uword_isgt(a,b)#1()
_A014 					; uword_isgt()
; vmsrc/apple/cmdjit.pla: 0490:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0491:         CMP     ESTKL+1,X
        CMP     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0492:         LDA     ESTKH,X
        LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0493:         SBC     ESTKH+1,X
        SBC     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0494:         LDA     #$FF
        LDA     #$FF
; vmsrc/apple/cmdjit.pla: 0495:         ADC     #$00
        ADC     #$00
; vmsrc/apple/cmdjit.pla: 0496:         STA     ESTKL+1,X
        STA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0497:         STA     ESTKH+1,X
        STA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0498:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0499:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0500: end
; vmsrc/apple/cmdjit.pla: 0501: asm uword_islt(a,b)#1
_P022 					; uword_islt(a,b)#1()
_A015 					; uword_islt()
; vmsrc/apple/cmdjit.pla: 0502:         LDA     ESTKL+1,X
        LDA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0503:         CMP     ESTKL,X
        CMP     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0504:         LDA     ESTKH+1,X
        LDA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0505:         SBC     ESTKH,X
        SBC     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0506:         LDA     #$FF
        LDA     #$FF
; vmsrc/apple/cmdjit.pla: 0507:         ADC     #$00
        ADC     #$00
; vmsrc/apple/cmdjit.pla: 0508:         STA     ESTKL+1,X
        STA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0509:         STA     ESTKH+1,X
        STA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0510:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0511:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0512: end
; vmsrc/apple/cmdjit.pla: 0513: asm divmod(a,b)#2
_P025 					; divmod(a,b)#2()
_A016 					; divmod()
; vmsrc/apple/cmdjit.pla: 0514:         JSR     INTERP          ; CALL INTERP
        JSR     INTERP          ; CALL INTERP
; vmsrc/apple/cmdjit.pla: 0515:         !BYTE   $36, $5C        ; DIVMOD, RET
        !BYTE   $36, $5C        ; DIVMOD, RET
; vmsrc/apple/cmdjit.pla: 0516: end
; vmsrc/apple/cmdjit.pla: 0517: asm sext(a)#1
_P024 					; sext(a)#1()
_A017 					; sext()
; vmsrc/apple/cmdjit.pla: 0518:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0519:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0520:         BPL     +
        BPL     +
; vmsrc/apple/cmdjit.pla: 0521:         DEY
        DEY
; vmsrc/apple/cmdjit.pla: 0522: +       STY     ESTKH,X
+       STY     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0523:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0524: end
; vmsrc/apple/cmdjit.pla: 0525: //
; vmsrc/apple/cmdjit.pla: 0526: // Utility routines.
; vmsrc/apple/cmdjit.pla: 0527: //
; vmsrc/apple/cmdjit.pla: 0528: // A DCI string is one that has the high bit set for every character except the last.
; vmsrc/apple/cmdjit.pla: 0529: // More efficient than C or Pascal strings.
; vmsrc/apple/cmdjit.pla: 0530: //
; vmsrc/apple/cmdjit.pla: 0531: //def dcitos(dci, str)
; vmsrc/apple/cmdjit.pla: 0532: //    byte len, c
; vmsrc/apple/cmdjit.pla: 0533: //    len = 0
; vmsrc/apple/cmdjit.pla: 0534: //    repeat
; vmsrc/apple/cmdjit.pla: 0535: //        c = (dci).[len]
; vmsrc/apple/cmdjit.pla: 0536: //        len = len + 1
; vmsrc/apple/cmdjit.pla: 0537: //        (str).[len] = c & $7F
; vmsrc/apple/cmdjit.pla: 0538: //    until !(c & $80)
; vmsrc/apple/cmdjit.pla: 0539: //    ^str = len
; vmsrc/apple/cmdjit.pla: 0540: //    return len
; vmsrc/apple/cmdjit.pla: 0541: //end
; vmsrc/apple/cmdjit.pla: 0542: asm dcitos(dci, str)#1
_A018 					; dcitos()
; vmsrc/apple/cmdjit.pla: 0543:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0544:         STA     DSTL
        STA     DSTL
; vmsrc/apple/cmdjit.pla: 0545:         LDA     ESTKH,X
        LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0546:         STA     DSTH
        STA     DSTH
; vmsrc/apple/cmdjit.pla: 0547:         LDA     ESTKL+1,X
        LDA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0548:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0549:         LDA     ESTKH+1,X
        LDA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0550:         STA     SRCH
        STA     SRCH
; vmsrc/apple/cmdjit.pla: 0551:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0552: -       LDA     (SRC),Y
-       LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0553:         CMP     #$80
        CMP     #$80
; vmsrc/apple/cmdjit.pla: 0554:         AND     #$7F
        AND     #$7F
; vmsrc/apple/cmdjit.pla: 0555:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0556:         STA     (DST),Y
        STA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0557:         BCS     -
        BCS     -
; vmsrc/apple/cmdjit.pla: 0558:         TYA
        TYA
; vmsrc/apple/cmdjit.pla: 0559:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0560:         STA     (DST),Y
        STA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0561:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0562:         STA     ESTKL,X
        STA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0563:         STY     ESTKH,X
        STY     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0564:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0565: end
; vmsrc/apple/cmdjit.pla: 0566: //def stodci(str, dci)
; vmsrc/apple/cmdjit.pla: 0567: //    byte len, c
; vmsrc/apple/cmdjit.pla: 0568: //    len = ^str
; vmsrc/apple/cmdjit.pla: 0569: //    if len == 0
; vmsrc/apple/cmdjit.pla: 0570: //        return
; vmsrc/apple/cmdjit.pla: 0571: //    fin
; vmsrc/apple/cmdjit.pla: 0572: //    c = toupper((str).[len]) & $7F
; vmsrc/apple/cmdjit.pla: 0573: //    len = len - 1
; vmsrc/apple/cmdjit.pla: 0574: //    (dci).[len] = c
; vmsrc/apple/cmdjit.pla: 0575: //    while len
; vmsrc/apple/cmdjit.pla: 0576: //      c = toupper((str).[len]) | $80
; vmsrc/apple/cmdjit.pla: 0577: //      len = len - 1
; vmsrc/apple/cmdjit.pla: 0578: //      (dci).[len] = c
; vmsrc/apple/cmdjit.pla: 0579: //    loop
; vmsrc/apple/cmdjit.pla: 0580: //    return ^str
; vmsrc/apple/cmdjit.pla: 0581: //end
; vmsrc/apple/cmdjit.pla: 0582: asm stodci(str,dci)#1
_A019 					; stodci()
; vmsrc/apple/cmdjit.pla: 0583:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0584:         STA     DSTL
        STA     DSTL
; vmsrc/apple/cmdjit.pla: 0585:         LDA     ESTKH,X
        LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0586:         STA     DSTH
        STA     DSTH
; vmsrc/apple/cmdjit.pla: 0587:         LDA     ESTKL+1,X
        LDA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0588:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0589:         LDA     ESTKH+1,X
        LDA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0590:         STA     SRCH
        STA     SRCH
; vmsrc/apple/cmdjit.pla: 0591:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0592:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0593:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0594:         BEQ     ++
        BEQ     ++
; vmsrc/apple/cmdjit.pla: 0595:         TAY
        TAY
; vmsrc/apple/cmdjit.pla: 0596:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0597:         JSR     TOUPR
        JSR     TOUPR
; vmsrc/apple/cmdjit.pla: 0598:         BNE     +
        BNE     +
; vmsrc/apple/cmdjit.pla: 0599: -       LDA     (SRC),Y
-       LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0600:         JSR     TOUPR
        JSR     TOUPR
; vmsrc/apple/cmdjit.pla: 0601:         ORA     #$80
        ORA     #$80
; vmsrc/apple/cmdjit.pla: 0602: +       DEY
+       DEY
; vmsrc/apple/cmdjit.pla: 0603:         STA     (DST),Y
        STA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0604:         BNE     -
        BNE     -
; vmsrc/apple/cmdjit.pla: 0605:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0606: ++      STA     ESTKL,X
++      STA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0607:         STY     ESTKH,X
        STY     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0608:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0609: end
; vmsrc/apple/cmdjit.pla: 0610: asm toupper(c)#1
_P010 					; toupper(c)#1()
_A020 					; toupper()
; vmsrc/apple/cmdjit.pla: 0611:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0612: TOUPR   AND     #$7F
TOUPR   AND     #$7F
; vmsrc/apple/cmdjit.pla: 0613:         CMP     #'a'
        CMP     #'a'
; vmsrc/apple/cmdjit.pla: 0614:         BCC     +
        BCC     +
; vmsrc/apple/cmdjit.pla: 0615:         CMP     #'z'+1
        CMP     #'z'+1
; vmsrc/apple/cmdjit.pla: 0616:         BCS     +
        BCS     +
; vmsrc/apple/cmdjit.pla: 0617:         SBC     #$1F
        SBC     #$1F
; vmsrc/apple/cmdjit.pla: 0618: +       STA     ESTKL,X
+       STA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0619:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0620: end
; vmsrc/apple/cmdjit.pla: 0621: //
; vmsrc/apple/cmdjit.pla: 0622: // Lookup routines.
; vmsrc/apple/cmdjit.pla: 0623: //
; vmsrc/apple/cmdjit.pla: 0624: //def lookuptbl(dci)
; vmsrc/apple/cmdjit.pla: 0625: //    word match, tbl
; vmsrc/apple/cmdjit.pla: 0626: //    sym = symtbl
; vmsrc/apple/cmdjit.pla: 0627: //    while ^sym
; vmsrc/apple/cmdjit.pla: 0628: //        match = dci
; vmsrc/apple/cmdjit.pla: 0629: //        while ^sym == ^match
; vmsrc/apple/cmdjit.pla: 0630: //            if !(^sym & $80)
; vmsrc/apple/cmdjit.pla: 0631: //                return (tbl):1
; vmsrc/apple/cmdjit.pla: 0632: //            fin
; vmsrc/apple/cmdjit.pla: 0633: //            tbl++
; vmsrc/apple/cmdjit.pla: 0634: //            match++
; vmsrc/apple/cmdjit.pla: 0635: //        loop
; vmsrc/apple/cmdjit.pla: 0636: //        while (^sym & $80)
; vmsrc/apple/cmdjit.pla: 0637: //            sym = sym + 1
; vmsrc/apple/cmdjit.pla: 0638: //        loop
; vmsrc/apple/cmdjit.pla: 0639: //        sym = sym + 3
; vmsrc/apple/cmdjit.pla: 0640: //    loop
; vmsrc/apple/cmdjit.pla: 0641: //    return 0
; vmsrc/apple/cmdjit.pla: 0642: asm lookuptbl(dci)#1
_P030 					; lookuptbl(dci)#1()
_A021 					; lookuptbl()
; vmsrc/apple/cmdjit.pla: 0643:         LDA     #$00                ; SYMBOL TABLE
        LDA     #$00                ; SYMBOL TABLE
; vmsrc/apple/cmdjit.pla: 0644:         STA     DSTL
        STA     DSTL
; vmsrc/apple/cmdjit.pla: 0645:         LDA     #$A8
        LDA     #$A8
; vmsrc/apple/cmdjit.pla: 0646:         STA     DSTH
        STA     DSTH
; vmsrc/apple/cmdjit.pla: 0647:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0648:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0649:         LDA     ESTKH,X
        LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0650:         STA     SRCH
        STA     SRCH
; vmsrc/apple/cmdjit.pla: 0651: --      LDY     #$00
--      LDY     #$00
; vmsrc/apple/cmdjit.pla: 0652: -       LDA     (DST),Y
-       LDA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0653:         BEQ     +
        BEQ     +
; vmsrc/apple/cmdjit.pla: 0654:         CMP     (SRC),Y
        CMP     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0655:         BNE     ++
        BNE     ++
; vmsrc/apple/cmdjit.pla: 0656:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0657:         ASL
        ASL
; vmsrc/apple/cmdjit.pla: 0658:         BCS     -
        BCS     -
; vmsrc/apple/cmdjit.pla: 0659:         LDA     (DST),Y
        LDA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0660:         STA     ESTKL,X             ; MATCH
        STA     ESTKL,X             ; MATCH
; vmsrc/apple/cmdjit.pla: 0661:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0662:         LDA     (DST),Y
        LDA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0663:         STA     ESTKH,X
        STA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0664:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0665: +       STA     ESTKL,X             ; NO MATCH
+       STA     ESTKL,X             ; NO MATCH
; vmsrc/apple/cmdjit.pla: 0666:         STA     ESTKH,X
        STA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0667:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0668: ++
++
; vmsrc/apple/cmdjit.pla: 0669: -       LDA     (DST),Y             ; NEXT ENTRY
-       LDA     (DST),Y             ; NEXT ENTRY
; vmsrc/apple/cmdjit.pla: 0670:         BPL     +
        BPL     +
; vmsrc/apple/cmdjit.pla: 0671:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0672:         BNE     -
        BNE     -
; vmsrc/apple/cmdjit.pla: 0673: +       TYA
+       TYA
; vmsrc/apple/cmdjit.pla: 0674:         CLC
        CLC
; vmsrc/apple/cmdjit.pla: 0675:         ADC     #$03
        ADC     #$03
; vmsrc/apple/cmdjit.pla: 0676:         ADC     DSTL
        ADC     DSTL
; vmsrc/apple/cmdjit.pla: 0677:         STA     DSTL
        STA     DSTL
; vmsrc/apple/cmdjit.pla: 0678:         BCC     --
        BCC     --
; vmsrc/apple/cmdjit.pla: 0679:         INC     DSTH
        INC     DSTH
; vmsrc/apple/cmdjit.pla: 0680:         BNE     --
        BNE     --
; vmsrc/apple/cmdjit.pla: 0681: end
; vmsrc/apple/cmdjit.pla: 0682: // def lookupidx(esd, index)
; vmsrc/apple/cmdjit.pla: 0683: //    word sym
; vmsrc/apple/cmdjit.pla: 0684: //    while ^esd
; vmsrc/apple/cmdjit.pla: 0685: //        sym = esd
; vmsrc/apple/cmdjit.pla: 0686: //        esd = sym + dcitos(sym, @str)
; vmsrc/apple/cmdjit.pla: 0687: //        if esd->0 & $10 and esd->1 == index
; vmsrc/apple/cmdjit.pla: 0688: //            return sym
; vmsrc/apple/cmdjit.pla: 0689: //        fin
; vmsrc/apple/cmdjit.pla: 0690: //        esd = esd + 3
; vmsrc/apple/cmdjit.pla: 0691: //    loop
; vmsrc/apple/cmdjit.pla: 0692: //end
; vmsrc/apple/cmdjit.pla: 0693: asm lookupidx(esd, index)#1
_A022 					; lookupidx()
; vmsrc/apple/cmdjit.pla: 0694:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0695:         STA     TMPL
        STA     TMPL
; vmsrc/apple/cmdjit.pla: 0696:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0697: ---     LDA     ESTKH,X
---     LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0698:         STA     SRCH
        STA     SRCH
; vmsrc/apple/cmdjit.pla: 0699:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0700: --      STA     SRCL
--      STA     SRCL
; vmsrc/apple/cmdjit.pla: 0701:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0702: -       LDA     (SRC),Y
-       LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0703:         BPL     +
        BPL     +
; vmsrc/apple/cmdjit.pla: 0704:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0705:         BNE     -
        BNE     -
; vmsrc/apple/cmdjit.pla: 0706: +       BEQ     ++              ; END OF ESD
+       BEQ     ++              ; END OF ESD
; vmsrc/apple/cmdjit.pla: 0707:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0708:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0709:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0710:         AND     #$10            ; EXTERN FLAG?
        AND     #$10            ; EXTERN FLAG?
; vmsrc/apple/cmdjit.pla: 0711:         BEQ     +
        BEQ     +
; vmsrc/apple/cmdjit.pla: 0712:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0713:         CMP     TMPL
        CMP     TMPL
; vmsrc/apple/cmdjit.pla: 0714:         BEQ     +++             ; MATCH
        BEQ     +++             ; MATCH
; vmsrc/apple/cmdjit.pla: 0715: +       INY
+       INY
; vmsrc/apple/cmdjit.pla: 0716:         TYA
        TYA
; vmsrc/apple/cmdjit.pla: 0717:         SEC
        SEC
; vmsrc/apple/cmdjit.pla: 0718:         ADC     SRCL
        ADC     SRCL
; vmsrc/apple/cmdjit.pla: 0719:         STA     ESTKL,X         ; SYM PTRL
        STA     ESTKL,X         ; SYM PTRL
; vmsrc/apple/cmdjit.pla: 0720:         BCC     --
        BCC     --
; vmsrc/apple/cmdjit.pla: 0721:         INC     ESTKH,X         ; SYM PTRH
        INC     ESTKH,X         ; SYM PTRH
; vmsrc/apple/cmdjit.pla: 0722:         BNE     ---
        BNE     ---
; vmsrc/apple/cmdjit.pla: 0723: ++      STA     ESTKL,X         ; END OF ESD
++      STA     ESTKL,X         ; END OF ESD
; vmsrc/apple/cmdjit.pla: 0724:         STA     ESTKH,X
        STA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0725: +++     RTS
+++     RTS
; vmsrc/apple/cmdjit.pla: 0726: end
; vmsrc/apple/cmdjit.pla: 0727: //def lookupdef(addr, deftbl)#1
; vmsrc/apple/cmdjit.pla: 0728: //    while deftbl->interpjsr == $20
; vmsrc/apple/cmdjit.pla: 0729: //        if deftbl=>bytecodeaddr == addr
; vmsrc/apple/cmdjit.pla: 0730: //            return deftbl
; vmsrc/apple/cmdjit.pla: 0731: //        fin
; vmsrc/apple/cmdjit.pla: 0732: //        deftbl = deftbl + t_defentry
; vmsrc/apple/cmdjit.pla: 0733: //    loop
; vmsrc/apple/cmdjit.pla: 0734: //    return 0
; vmsrc/apple/cmdjit.pla: 0735: //end
; vmsrc/apple/cmdjit.pla: 0736: asm lookupdef(addr, deftbl)#1
_A023 					; lookupdef()
; vmsrc/apple/cmdjit.pla: 0737:         LDA     ESTKH,X
        LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0738:         STA     SRCH
        STA     SRCH
; vmsrc/apple/cmdjit.pla: 0739:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0740:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0741:         INX
        INX
; vmsrc/apple/cmdjit.pla: 0742: -       LDY     #$00
-       LDY     #$00
; vmsrc/apple/cmdjit.pla: 0743:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0744:         CMP     #$20            ; JSR OPCODE?
        CMP     #$20            ; JSR OPCODE?
; vmsrc/apple/cmdjit.pla: 0745:         BNE     ++
        BNE     ++
; vmsrc/apple/cmdjit.pla: 0746:         LDY     #$03
        LDY     #$03
; vmsrc/apple/cmdjit.pla: 0747:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0748:         CMP     ESTKL,X
        CMP     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0749:         BNE     +
        BNE     +
; vmsrc/apple/cmdjit.pla: 0750:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0751:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0752:         CMP     ESTKH,X
        CMP     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0753:         BNE     +
        BNE     +
; vmsrc/apple/cmdjit.pla: 0754:         LDA     SRCL            ; MATCH
        LDA     SRCL            ; MATCH
; vmsrc/apple/cmdjit.pla: 0755:         STA     ESTKL,X
        STA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0756:         LDA     SRCH
        LDA     SRCH
; vmsrc/apple/cmdjit.pla: 0757:         STA     ESTKH,X
        STA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0758:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0759: +       LDA     #$07            ; NEXT ENTRY
+       LDA     #$07            ; NEXT ENTRY
; vmsrc/apple/cmdjit.pla: 0760:         CLC
        CLC
; vmsrc/apple/cmdjit.pla: 0761:         ADC     SRCL
        ADC     SRCL
; vmsrc/apple/cmdjit.pla: 0762:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0763:         BCC     -
        BCC     -
; vmsrc/apple/cmdjit.pla: 0764:         INC     SRCH
        INC     SRCH
; vmsrc/apple/cmdjit.pla: 0765:         BNE     -
        BNE     -
; vmsrc/apple/cmdjit.pla: 0766: ++      STY     ESTKL,X
++      STY     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0767:         STY     ESTKH,X
        STY     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0768:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0769: end
; vmsrc/apple/cmdjit.pla: 0770: //
; vmsrc/apple/cmdjit.pla: 0771: // Reloc internal data
; vmsrc/apple/cmdjit.pla: 0772: //
; vmsrc/apple/cmdjit.pla: 0773: //def reloc(modfix, modofst, bytecode, rld)#3
; vmsrc/apple/cmdjit.pla: 0774: //    word addr, fixup
; vmsrc/apple/cmdjit.pla: 0775: //    while ^rld
; vmsrc/apple/cmdjit.pla: 0776: //        if ^rld & $10 // EXTERN reference.
; vmsrc/apple/cmdjit.pla: 0777: //            return rld, addr, fixup
; vmsrc/apple/cmdjit.pla: 0778: //        fin
; vmsrc/apple/cmdjit.pla: 0779: //        addr = rld=>1 + modfix
; vmsrc/apple/cmdjit.pla: 0780: //        fixup = *addr + modofst
; vmsrc/apple/cmdjit.pla: 0781: //        if uword_isge(fixup, bytecode) // Bytecode address.
; vmsrc/apple/cmdjit.pla: 0782: //            return rld, addr, fixup
; vmsrc/apple/cmdjit.pla: 0783: //        fin
; vmsrc/apple/cmdjit.pla: 0784: //        *addr = fixup
; vmsrc/apple/cmdjit.pla: 0785: //        rld = rld + 4
; vmsrc/apple/cmdjit.pla: 0786: //    loop
; vmsrc/apple/cmdjit.pla: 0787: //    return rld, addr, fixup
; vmsrc/apple/cmdjit.pla: 0788: //end
; vmsrc/apple/cmdjit.pla: 0789: asm reloc(modfix, modofst, bytecode, rld)#3
_A024 					; reloc()
; vmsrc/apple/cmdjit.pla: 0790:         LDA     ESTKL,X
        LDA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0791:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0792:         LDA     ESTKH,X
        LDA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0793:         STA     SRCH
        STA     SRCH
; vmsrc/apple/cmdjit.pla: 0794:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0795: -       LDA     (SRC),Y
-       LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0796:         BEQ     RLDEX       ; END OF RLD
        BEQ     RLDEX       ; END OF RLD
; vmsrc/apple/cmdjit.pla: 0797:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0798:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0799:         CLC
        CLC
; vmsrc/apple/cmdjit.pla: 0800:         ADC     ESTKL+3,X   ; ADDR=ENTRY=>1+MODFIX
        ADC     ESTKL+3,X   ; ADDR=ENTRY=>1+MODFIX
; vmsrc/apple/cmdjit.pla: 0801:         STA     DSTL
        STA     DSTL
; vmsrc/apple/cmdjit.pla: 0802:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0803:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0804:         ADC     ESTKH+3,X
        ADC     ESTKH+3,X
; vmsrc/apple/cmdjit.pla: 0805:         STA     DSTH
        STA     DSTH
; vmsrc/apple/cmdjit.pla: 0806:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0807:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0808:         AND     #$10        ; EXTERN REF - EXIT
        AND     #$10        ; EXTERN REF - EXIT
; vmsrc/apple/cmdjit.pla: 0809:         BNE     RLDEX
        BNE     RLDEX
; vmsrc/apple/cmdjit.pla: 0810:         LDA     (SRC),Y
        LDA     (SRC),Y
; vmsrc/apple/cmdjit.pla: 0811:         BMI     FIX16
        BMI     FIX16
; vmsrc/apple/cmdjit.pla: 0812:         AND     #$40
        AND     #$40
; vmsrc/apple/cmdjit.pla: 0813:         BNE     FIXMSB
        BNE     FIXMSB
; vmsrc/apple/cmdjit.pla: 0814: FIXLSB  LDA     (DST),Y
FIXLSB  LDA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0815:         CLC
        CLC
; vmsrc/apple/cmdjit.pla: 0816:         ADC     ESTKL+2,X
        ADC     ESTKL+2,X
; vmsrc/apple/cmdjit.pla: 0817:         CLC
        CLC
; vmsrc/apple/cmdjit.pla: 0818:         BCC     FIX8
        BCC     FIX8
; vmsrc/apple/cmdjit.pla: 0819: FIXMSB  LDY     #$03
FIXMSB  LDY     #$03
; vmsrc/apple/cmdjit.pla: 0820:         LDA     (SRC),Y     ; FIXUPH=(ENTRY->3+MODOFSTL)+(^ADDR+MODOFSTH)
        LDA     (SRC),Y     ; FIXUPH=(ENTRY->3+MODOFSTL)+(^ADDR+MODOFSTH)
; vmsrc/apple/cmdjit.pla: 0821:         CLC
        CLC
; vmsrc/apple/cmdjit.pla: 0822:         ADC     ESTKL+2,X
        ADC     ESTKL+2,X
; vmsrc/apple/cmdjit.pla: 0823:         LDY     #$00
        LDY     #$00
; vmsrc/apple/cmdjit.pla: 0824:         LDA     (DST),Y
        LDA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0825:         ADC     ESTKH+2,X
        ADC     ESTKH+2,X
; vmsrc/apple/cmdjit.pla: 0826:         CLC
        CLC
; vmsrc/apple/cmdjit.pla: 0827:         BCC     FIX8
        BCC     FIX8
; vmsrc/apple/cmdjit.pla: 0828: FIX16   LDA     (DST),Y     ; FIXUP=*ADDR+MODOFST
FIX16   LDA     (DST),Y     ; FIXUP=*ADDR+MODOFST
; vmsrc/apple/cmdjit.pla: 0829:         CLC
        CLC
; vmsrc/apple/cmdjit.pla: 0830:         ADC     ESTKL+2,X
        ADC     ESTKL+2,X
; vmsrc/apple/cmdjit.pla: 0831:         STA     TMPL
        STA     TMPL
; vmsrc/apple/cmdjit.pla: 0832:         INY
        INY
; vmsrc/apple/cmdjit.pla: 0833:         LDA     (DST),Y
        LDA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0834:         ADC     ESTKH+2,X
        ADC     ESTKH+2,X
; vmsrc/apple/cmdjit.pla: 0835:         CMP     ESTKH+1,X   ; FIXUP >= BYTECODE?
        CMP     ESTKH+1,X   ; FIXUP >= BYTECODE?
; vmsrc/apple/cmdjit.pla: 0836:         BCC     +
        BCC     +
; vmsrc/apple/cmdjit.pla: 0837:         STA     TMPH
        STA     TMPH
; vmsrc/apple/cmdjit.pla: 0838:         BNE     RLDEX       ; YEP, EXIT
        BNE     RLDEX       ; YEP, EXIT
; vmsrc/apple/cmdjit.pla: 0839:         LDA     TMPL
        LDA     TMPL
; vmsrc/apple/cmdjit.pla: 0840:         CMP     ESTKL+1,X
        CMP     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0841:         BCS     RLDEX       ; YEP, EXIT
        BCS     RLDEX       ; YEP, EXIT
; vmsrc/apple/cmdjit.pla: 0842:         LDA     TMPH
        LDA     TMPH
; vmsrc/apple/cmdjit.pla: 0843: +       STA     (DST),Y     ; *ADDR=FIXUP
+       STA     (DST),Y     ; *ADDR=FIXUP
; vmsrc/apple/cmdjit.pla: 0844:         DEY
        DEY
; vmsrc/apple/cmdjit.pla: 0845:         LDA     TMPL
        LDA     TMPL
; vmsrc/apple/cmdjit.pla: 0846: FIX8    STA     (DST),Y
FIX8    STA     (DST),Y
; vmsrc/apple/cmdjit.pla: 0847:         LDA     SRCL        ; NEXT ENTRY
        LDA     SRCL        ; NEXT ENTRY
; vmsrc/apple/cmdjit.pla: 0848: ;       CLC
;       CLC
; vmsrc/apple/cmdjit.pla: 0849:         ADC     #$04
        ADC     #$04
; vmsrc/apple/cmdjit.pla: 0850:         STA     SRCL
        STA     SRCL
; vmsrc/apple/cmdjit.pla: 0851:         BCC     -
        BCC     -
; vmsrc/apple/cmdjit.pla: 0852:         INC     SRCH
        INC     SRCH
; vmsrc/apple/cmdjit.pla: 0853:         BNE     -
        BNE     -
; vmsrc/apple/cmdjit.pla: 0854: RLDEX   INX
RLDEX   INX
; vmsrc/apple/cmdjit.pla: 0855:         LDA     TMPL
        LDA     TMPL
; vmsrc/apple/cmdjit.pla: 0856:         STA     ESTKL,X
        STA     ESTKL,X
; vmsrc/apple/cmdjit.pla: 0857:         LDA     TMPH
        LDA     TMPH
; vmsrc/apple/cmdjit.pla: 0858:         STA     ESTKH,X
        STA     ESTKH,X
; vmsrc/apple/cmdjit.pla: 0859:         LDA     DSTL
        LDA     DSTL
; vmsrc/apple/cmdjit.pla: 0860:         STA     ESTKL+1,X
        STA     ESTKL+1,X
; vmsrc/apple/cmdjit.pla: 0861:         LDA     DSTH
        LDA     DSTH
; vmsrc/apple/cmdjit.pla: 0862:         STA     ESTKH+1,X
        STA     ESTKH+1,X
; vmsrc/apple/cmdjit.pla: 0863:         LDA     SRCL
        LDA     SRCL
; vmsrc/apple/cmdjit.pla: 0864:         STA     ESTKL+2,X
        STA     ESTKL+2,X
; vmsrc/apple/cmdjit.pla: 0865:         LDA     SRCH
        LDA     SRCH
; vmsrc/apple/cmdjit.pla: 0866:         STA     ESTKH+2,X
        STA     ESTKH+2,X
; vmsrc/apple/cmdjit.pla: 0867:         RTS
        RTS
; vmsrc/apple/cmdjit.pla: 0868: end
; vmsrc/apple/cmdjit.pla: 0869: //
; vmsrc/apple/cmdjit.pla: 0870: // Cheap and dirty print integer
; vmsrc/apple/cmdjit.pla: 0871: //
; vmsrc/apple/cmdjit.pla: 0872: def print(i)#0
					; i -> [0]
_P007 					; print(i)#0()
_C000 					; print()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0873:     if i < 0; cout('-'); i = -i; fin
	!BYTE	$58,$02,$01		; ENTER	2,1
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$00			; CN	0
	!BYTE	$46			; ISLT
	!BYTE	$4C			; BRFLS	_B001
	!WORD	_B001-*
	!BYTE	$2A,$2D			; CB	45
	!BYTE	$54			; CALL	_A006
_F062 	!WORD	_A006		
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$90			; NEG
	!BYTE	$76,$00			; SLW	[0]
_B001 
_B002 
; vmsrc/apple/cmdjit.pla: 0874:     if i >= 10; print(i / 10); fin
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$14			; CN	10
	!BYTE	$48			; ISGE
	!BYTE	$4C			; BRFLS	_B003
	!WORD	_B003-*
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$14			; CN	10
	!BYTE	$88			; DIV
	!BYTE	$54			; CALL	_C000
_F063 	!WORD	_C000		
_B003 
_B004 
; vmsrc/apple/cmdjit.pla: 0875:     cout(i % 10 + '0')
; vmsrc/apple/cmdjit.pla: 0876: end
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$14			; CN	10
	!BYTE	$8A			; MOD
	!BYTE	$38,$30			; ADDI	48
	!BYTE	$54			; CALL	_A006
_F064 	!WORD	_A006		
	!BYTE	$5A,$02			; LEAVE	2
; vmsrc/apple/cmdjit.pla: 0877: //
; vmsrc/apple/cmdjit.pla: 0878: // ProDOS routines
; vmsrc/apple/cmdjit.pla: 0879: //
; vmsrc/apple/cmdjit.pla: 0880: def pfxop(path, op)#1
					; path -> [0]
					; op -> [2]
_C001 					; pfxop()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0881:     byte params[3]
					; params -> [4]
; vmsrc/apple/cmdjit.pla: 0882: 
; vmsrc/apple/cmdjit.pla: 0883:     params.0 = 1
	!BYTE	$58,$07,$02		; ENTER	7,2
; vmsrc/apple/cmdjit.pla: 0884:     params:1 = path
; vmsrc/apple/cmdjit.pla: 0885:     perr     = syscall(op, @params)
; vmsrc/apple/cmdjit.pla: 0886:     return path
	!BYTE	$02			; CN	1
	!BYTE	$74,$04			; SLB	[4]
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$76,$05			; SLW	[5]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$28,$04			; LLA	[4]
	!BYTE	$54			; CALL	_A000
_F065 	!WORD	_A000		
	!BYTE	$78			; SAB	_D035+0
_F066 	!WORD	_D035+0		
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$5A,$07			; LEAVE	7
; vmsrc/apple/cmdjit.pla: 0887: end
; vmsrc/apple/cmdjit.pla: 0888: def open(path)#1
					; path -> [0]
_P027 					; open(path)#1()
_C002 					; open()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0889:     byte params[6]
					; params -> [2]
; vmsrc/apple/cmdjit.pla: 0890: 
; vmsrc/apple/cmdjit.pla: 0891:     params.0 = 3
	!BYTE	$58,$08,$01		; ENTER	8,1
; vmsrc/apple/cmdjit.pla: 0892:     params:1 = path
; vmsrc/apple/cmdjit.pla: 0893:     params:3 = iobuffer
; vmsrc/apple/cmdjit.pla: 0894:     params.5 = 0
; vmsrc/apple/cmdjit.pla: 0895:     perr     = syscall($C8, @params)
; vmsrc/apple/cmdjit.pla: 0896:     return params.5
	!BYTE	$06			; CN	3
	!BYTE	$74,$02			; SLB	[2]
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$76,$03			; SLW	[3]
	!BYTE	$2C,$00,$08		; CW	2048
	!BYTE	$76,$05			; SLW	[5]
	!BYTE	$00			; CN	0
	!BYTE	$74,$07			; SLB	[7]
	!BYTE	$2A,$C8			; CB	200
	!BYTE	$28,$02			; LLA	[2]
	!BYTE	$54			; CALL	_A000
_F067 	!WORD	_A000		
	!BYTE	$78			; SAB	_D035+0
_F068 	!WORD	_D035+0		
	!BYTE	$64,$07			; LLB	[7]
	!BYTE	$5A,$08			; LEAVE	8
; vmsrc/apple/cmdjit.pla: 0897: end
; vmsrc/apple/cmdjit.pla: 0898: def close(refnum)#1
					; refnum -> [0]
_P028 					; close(refnum)#1()
_C003 					; close()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0899:     byte params[2]
					; params -> [2]
; vmsrc/apple/cmdjit.pla: 0900: 
; vmsrc/apple/cmdjit.pla: 0901:     params.0 = 1
	!BYTE	$58,$04,$01		; ENTER	4,1
; vmsrc/apple/cmdjit.pla: 0902:     params.1 = refnum
; vmsrc/apple/cmdjit.pla: 0903:     perr     = syscall($CC, @params)
; vmsrc/apple/cmdjit.pla: 0904:     return perr
	!BYTE	$02			; CN	1
	!BYTE	$74,$02			; SLB	[2]
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$74,$03			; SLB	[3]
	!BYTE	$2A,$CC			; CB	204
	!BYTE	$28,$02			; LLA	[2]
	!BYTE	$54			; CALL	_A000
_F069 	!WORD	_A000		
	!BYTE	$7C			; DAB	_D035+0
_F070 	!WORD	_D035+0		
	!BYTE	$5A,$04			; LEAVE	4
; vmsrc/apple/cmdjit.pla: 0905: end
; vmsrc/apple/cmdjit.pla: 0906: def read(refnum, buf, len)#1
					; refnum -> [0]
					; buf -> [2]
					; len -> [4]
_P029 					; read(refnum, buf, len)#1()
_C004 					; read()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0907:     byte params[8]
					; params -> [6]
; vmsrc/apple/cmdjit.pla: 0908: 
; vmsrc/apple/cmdjit.pla: 0909:     params.0 = 4
	!BYTE	$58,$0E,$03		; ENTER	14,3
; vmsrc/apple/cmdjit.pla: 0910:     params.1 = refnum
; vmsrc/apple/cmdjit.pla: 0911:     params:2 = buf
; vmsrc/apple/cmdjit.pla: 0912:     params:4 = len
; vmsrc/apple/cmdjit.pla: 0913:     params:6 = 0
; vmsrc/apple/cmdjit.pla: 0914:     perr     = syscall($CA, @params)
; vmsrc/apple/cmdjit.pla: 0915:     return params:6
	!BYTE	$08			; CN	4
	!BYTE	$74,$06			; SLB	[6]
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$74,$07			; SLB	[7]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$76,$08			; SLW	[8]
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$76,$0A			; SLW	[10]
	!BYTE	$00			; CN	0
	!BYTE	$76,$0C			; SLW	[12]
	!BYTE	$2A,$CA			; CB	202
	!BYTE	$28,$06			; LLA	[6]
	!BYTE	$54			; CALL	_A000
_F071 	!WORD	_A000		
	!BYTE	$78			; SAB	_D035+0
_F072 	!WORD	_D035+0		
	!BYTE	$66,$0C			; LLW	[12]
	!BYTE	$5A,$0E			; LEAVE	14
; vmsrc/apple/cmdjit.pla: 0916: end
; vmsrc/apple/cmdjit.pla: 0917: //
; vmsrc/apple/cmdjit.pla: 0918: // Heap routines.
; vmsrc/apple/cmdjit.pla: 0919: //
; vmsrc/apple/cmdjit.pla: 0920: def availheap()#1
_P015 					; availheap()#1()
_C005 					; availheap()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0921:     byte fp
					; fp -> [0]
; vmsrc/apple/cmdjit.pla: 0922:     return @fp - heap
	!BYTE	$58,$01,$00		; ENTER	1,0
	!BYTE	$28,$00			; LLA	[0]
	!BYTE	$6A			; LAW	_D072+0
_F073 	!WORD	_D072+0		
	!BYTE	$84			; SUB 
	!BYTE	$5A,$01			; LEAVE	1
; vmsrc/apple/cmdjit.pla: 0923: end
; vmsrc/apple/cmdjit.pla: 0924: def allocheap(size)#1
					; size -> [0]
_P012 					; allocheap(size)#1()
_C006 					; allocheap()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0925:     word oldheap, addr
					; oldheap -> [2]
					; addr -> [4]
; vmsrc/apple/cmdjit.pla: 0926:     oldheap = heap
	!BYTE	$58,$06,$01		; ENTER	6,1
; vmsrc/apple/cmdjit.pla: 0927:     addr    = heap
; vmsrc/apple/cmdjit.pla: 0928:     heap    = heap + size
; vmsrc/apple/cmdjit.pla: 0929:     if systemflags & reshgr1
; vmsrc/apple/cmdjit.pla: 0930:         if uword_islt(addr, $4000) and uword_isgt(heap, $2000)
; vmsrc/apple/cmdjit.pla: 0931:             addr = $4000
; vmsrc/apple/cmdjit.pla: 0932:             heap = addr + size
; vmsrc/apple/cmdjit.pla: 0933:         fin
	!BYTE	$6A			; LAW	_D072+0
_F074 	!WORD	_D072+0		
	!BYTE	$76,$02			; SLW	[2]
	!BYTE	$6A			; LAW	_D072+0
_F075 	!WORD	_D072+0		
	!BYTE	$76,$04			; SLW	[4]
	!BYTE	$6A			; LAW	_D072+0
_F076 	!WORD	_D072+0		
	!BYTE	$B2,$00			; ADDLW	[0]
	!BYTE	$7A			; SAW	_D072+0
_F077 	!WORD	_D072+0		
	!BYTE	$6A			; LAW	_D038+0
_F078 	!WORD	_D038+0		
	!BYTE	$3C,$10			; ANDI	16
	!BYTE	$4C			; BRFLS	_B005
	!WORD	_B005-*
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$2C,$00,$40		; CW	16384
	!BYTE	$54			; CALL	_A015
_F079 	!WORD	_A015		
	!BYTE	$AC			; BRAND	_B007
	!WORD	_B007-*
	!BYTE	$6A			; LAW	_D072+0
_F080 	!WORD	_D072+0		
	!BYTE	$2C,$00,$20		; CW	8192
	!BYTE	$54			; CALL	_A014
_F081 	!WORD	_A014		
_B007 
	!BYTE	$4C			; BRFLS	_B008
	!WORD	_B008-*
	!BYTE	$2C,$00,$40		; CW	16384
	!BYTE	$6E,$04			; DLW	[4]
	!BYTE	$B2,$00			; ADDLW	[0]
	!BYTE	$7A			; SAW	_D072+0
_F082 	!WORD	_D072+0		
_B008 
_B009 
; vmsrc/apple/cmdjit.pla: 0934:     fin
_B005 
_B006 
; vmsrc/apple/cmdjit.pla: 0935:     if systemflags & reshgr2
; vmsrc/apple/cmdjit.pla: 0936:         if uword_islt(addr, $6000) and uword_isgt(heap, $4000)
; vmsrc/apple/cmdjit.pla: 0937:             addr = $6000
; vmsrc/apple/cmdjit.pla: 0938:             heap = addr + size
; vmsrc/apple/cmdjit.pla: 0939:         fin
	!BYTE	$6A			; LAW	_D038+0
_F083 	!WORD	_D038+0		
	!BYTE	$3C,$20			; ANDI	32
	!BYTE	$4C			; BRFLS	_B010
	!WORD	_B010-*
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$2C,$00,$60		; CW	24576
	!BYTE	$54			; CALL	_A015
_F084 	!WORD	_A015		
	!BYTE	$AC			; BRAND	_B012
	!WORD	_B012-*
	!BYTE	$6A			; LAW	_D072+0
_F085 	!WORD	_D072+0		
	!BYTE	$2C,$00,$40		; CW	16384
	!BYTE	$54			; CALL	_A014
_F086 	!WORD	_A014		
_B012 
	!BYTE	$4C			; BRFLS	_B013
	!WORD	_B013-*
	!BYTE	$2C,$00,$60		; CW	24576
	!BYTE	$6E,$04			; DLW	[4]
	!BYTE	$B2,$00			; ADDLW	[0]
	!BYTE	$7A			; SAW	_D072+0
_F087 	!WORD	_D072+0		
_B013 
_B014 
; vmsrc/apple/cmdjit.pla: 0940:     fin
_B010 
_B011 
; vmsrc/apple/cmdjit.pla: 0941:     if uword_isge(heap, @addr)
; vmsrc/apple/cmdjit.pla: 0942:         heap = oldheap
; vmsrc/apple/cmdjit.pla: 0943:         return 0
	!BYTE	$6A			; LAW	_D072+0
_F088 	!WORD	_D072+0		
	!BYTE	$28,$04			; LLA	[4]
	!BYTE	$54			; CALL	_A012
_F089 	!WORD	_A012		
	!BYTE	$4C			; BRFLS	_B015
	!WORD	_B015-*
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$7A			; SAW	_D072+0
_F090 	!WORD	_D072+0		
	!BYTE	$00			; CN	0
	!BYTE	$5A,$06			; LEAVE	6
; vmsrc/apple/cmdjit.pla: 0944:     fin
_B015 
_B016 
; vmsrc/apple/cmdjit.pla: 0945:     return addr
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$5A,$06			; LEAVE	6
; vmsrc/apple/cmdjit.pla: 0946: end
; vmsrc/apple/cmdjit.pla: 0947: def allocalignheap(size, pow2, freeaddr)
					; size -> [0]
					; pow2 -> [2]
					; freeaddr -> [4]
_P013 					; allocalignheap(size, pow2, freeaddr)()
_C007 					; allocalignheap()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0948:     word align, addr
					; align -> [6]
					; addr -> [8]
; vmsrc/apple/cmdjit.pla: 0949:     if freeaddr
	!BYTE	$58,$0A,$03		; ENTER	10,3
; vmsrc/apple/cmdjit.pla: 0950:         *freeaddr = heap
; vmsrc/apple/cmdjit.pla: 0951:     fin
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$4C			; BRFLS	_B017
	!WORD	_B017-*
	!BYTE	$6A			; LAW	_D072+0
_F091 	!WORD	_D072+0		
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$72			; SW
_B017 
_B018 
; vmsrc/apple/cmdjit.pla: 0952:     align = (1 << pow2) - 1
; vmsrc/apple/cmdjit.pla: 0953:     addr  = (heap | align) + 1
; vmsrc/apple/cmdjit.pla: 0954:     heap  = addr + size
; vmsrc/apple/cmdjit.pla: 0955:     if uword_isge(heap, @addr)
; vmsrc/apple/cmdjit.pla: 0956:         return 0
	!BYTE	$02			; CN	1
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$9A			; SHL
	!BYTE	$8E			; DECR
	!BYTE	$76,$06			; SLW	[6]
	!BYTE	$6A			; LAW	_D072+0
_F092 	!WORD	_D072+0		
	!BYTE	$66,$06			; LLW	[6]
	!BYTE	$96			; OR 
	!BYTE	$8C			; INCR
	!BYTE	$6E,$08			; DLW	[8]
	!BYTE	$B2,$00			; ADDLW	[0]
	!BYTE	$7E			; DAW	_D072+0
_F093 	!WORD	_D072+0		
	!BYTE	$28,$08			; LLA	[8]
	!BYTE	$54			; CALL	_A012
_F094 	!WORD	_A012		
	!BYTE	$4C			; BRFLS	_B019
	!WORD	_B019-*
	!BYTE	$00			; CN	0
	!BYTE	$5A,$0A			; LEAVE	10
; vmsrc/apple/cmdjit.pla: 0957:     fin
_B019 
_B020 
; vmsrc/apple/cmdjit.pla: 0958:     return addr
	!BYTE	$66,$08			; LLW	[8]
	!BYTE	$5A,$0A			; LEAVE	10
; vmsrc/apple/cmdjit.pla: 0959: end
; vmsrc/apple/cmdjit.pla: 0960: def markheap()#1
_P011 					; markheap()#1()
_C008 					; markheap()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0961:     return heap
	!BYTE	$6A			; LAW	_D072+0
_F095 	!WORD	_D072+0		
	!BYTE	$5C			; RET
; vmsrc/apple/cmdjit.pla: 0962: end
; vmsrc/apple/cmdjit.pla: 0963: def releaseheap(newheap)#1
					; newheap -> [0]
_P014 					; releaseheap(newheap)#1()
_C009 					; releaseheap()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0964:     heap = newheap
	!BYTE	$58,$02,$01		; ENTER	2,1
; vmsrc/apple/cmdjit.pla: 0965:     return @newheap - heap
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$7A			; SAW	_D072+0
_F096 	!WORD	_D072+0		
	!BYTE	$28,$00			; LLA	[0]
	!BYTE	$6A			; LAW	_D072+0
_F097 	!WORD	_D072+0		
	!BYTE	$84			; SUB 
	!BYTE	$5A,$02			; LEAVE	2
; vmsrc/apple/cmdjit.pla: 0966: end
; vmsrc/apple/cmdjit.pla: 0967: def allocxheap(size)#1
					; size -> [0]
_C010 					; allocxheap()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 0968:     word xaddr
					; xaddr -> [2]
; vmsrc/apple/cmdjit.pla: 0969:     xaddr = xheap
	!BYTE	$58,$04,$01		; ENTER	4,1
; vmsrc/apple/cmdjit.pla: 0970:     xheap = xheap + size
; vmsrc/apple/cmdjit.pla: 0971:     if systemflags & resxtxt1
; vmsrc/apple/cmdjit.pla: 0972:         if uword_islt(xaddr, $0800) and uword_isgt(xheap, $0400)
; vmsrc/apple/cmdjit.pla: 0973:             xaddr = $0800
; vmsrc/apple/cmdjit.pla: 0974:             xheap = xaddr + size
; vmsrc/apple/cmdjit.pla: 0975:         fin
	!BYTE	$6A			; LAW	_D073+0
_F098 	!WORD	_D073+0		
	!BYTE	$76,$02			; SLW	[2]
	!BYTE	$6A			; LAW	_D073+0
_F099 	!WORD	_D073+0		
	!BYTE	$B2,$00			; ADDLW	[0]
	!BYTE	$7A			; SAW	_D073+0
_F100 	!WORD	_D073+0		
	!BYTE	$6A			; LAW	_D038+0
_F101 	!WORD	_D038+0		
	!BYTE	$3C,$04			; ANDI	4
	!BYTE	$4C			; BRFLS	_B021
	!WORD	_B021-*
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$2C,$00,$08		; CW	2048
	!BYTE	$54			; CALL	_A015
_F102 	!WORD	_A015		
	!BYTE	$AC			; BRAND	_B023
	!WORD	_B023-*
	!BYTE	$6A			; LAW	_D073+0
_F103 	!WORD	_D073+0		
	!BYTE	$2C,$00,$04		; CW	1024
	!BYTE	$54			; CALL	_A014
_F104 	!WORD	_A014		
_B023 
	!BYTE	$4C			; BRFLS	_B024
	!WORD	_B024-*
	!BYTE	$2C,$00,$08		; CW	2048
	!BYTE	$6E,$02			; DLW	[2]
	!BYTE	$B2,$00			; ADDLW	[0]
	!BYTE	$7A			; SAW	_D073+0
_F105 	!WORD	_D073+0		
_B024 
_B025 
; vmsrc/apple/cmdjit.pla: 0976:     fin
_B021 
_B022 
; vmsrc/apple/cmdjit.pla: 0977:     if systemflags & resxtxt2
; vmsrc/apple/cmdjit.pla: 0978:         if uword_islt(xaddr, $0C00) and uword_isgt(xheap, $0800)
; vmsrc/apple/cmdjit.pla: 0979:             xaddr = $0C00
; vmsrc/apple/cmdjit.pla: 0980:             xheap = xaddr + size
; vmsrc/apple/cmdjit.pla: 0981:         fin
	!BYTE	$6A			; LAW	_D038+0
_F106 	!WORD	_D038+0		
	!BYTE	$3C,$08			; ANDI	8
	!BYTE	$4C			; BRFLS	_B026
	!WORD	_B026-*
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$2C,$00,$0C		; CW	3072
	!BYTE	$54			; CALL	_A015
_F107 	!WORD	_A015		
	!BYTE	$AC			; BRAND	_B028
	!WORD	_B028-*
	!BYTE	$6A			; LAW	_D073+0
_F108 	!WORD	_D073+0		
	!BYTE	$2C,$00,$08		; CW	2048
	!BYTE	$54			; CALL	_A014
_F109 	!WORD	_A014		
_B028 
	!BYTE	$4C			; BRFLS	_B029
	!WORD	_B029-*
	!BYTE	$2C,$00,$0C		; CW	3072
	!BYTE	$6E,$02			; DLW	[2]
	!BYTE	$B2,$00			; ADDLW	[0]
	!BYTE	$7A			; SAW	_D073+0
_F110 	!WORD	_D073+0		
_B029 
_B030 
; vmsrc/apple/cmdjit.pla: 0982:     fin
_B026 
_B027 
; vmsrc/apple/cmdjit.pla: 0983:     if systemflags & resxhgr1
; vmsrc/apple/cmdjit.pla: 0984:         if uword_islt(xaddr, $4000) and uword_isgt(xheap, $2000)
; vmsrc/apple/cmdjit.pla: 0985:             xaddr = $4000
; vmsrc/apple/cmdjit.pla: 0986:             xheap = xaddr + size
; vmsrc/apple/cmdjit.pla: 0987:         fin
	!BYTE	$6A			; LAW	_D038+0
_F111 	!WORD	_D038+0		
	!BYTE	$3C,$40			; ANDI	64
	!BYTE	$4C			; BRFLS	_B031
	!WORD	_B031-*
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$2C,$00,$40		; CW	16384
	!BYTE	$54			; CALL	_A015
_F112 	!WORD	_A015		
	!BYTE	$AC			; BRAND	_B033
	!WORD	_B033-*
	!BYTE	$6A			; LAW	_D073+0
_F113 	!WORD	_D073+0		
	!BYTE	$2C,$00,$20		; CW	8192
	!BYTE	$54			; CALL	_A014
_F114 	!WORD	_A014		
_B033 
	!BYTE	$4C			; BRFLS	_B034
	!WORD	_B034-*
	!BYTE	$2C,$00,$40		; CW	16384
	!BYTE	$6E,$02			; DLW	[2]
	!BYTE	$B2,$00			; ADDLW	[0]
	!BYTE	$7A			; SAW	_D073+0
_F115 	!WORD	_D073+0		
_B034 
_B035 
; vmsrc/apple/cmdjit.pla: 0988:     fin
_B031 
_B032 
; vmsrc/apple/cmdjit.pla: 0989:     if systemflags & resxhgr2
; vmsrc/apple/cmdjit.pla: 0990:         if uword_islt(xaddr, $6000) and uword_isgt(xheap, $4000)
; vmsrc/apple/cmdjit.pla: 0991:             xaddr = $6000
; vmsrc/apple/cmdjit.pla: 0992:             xheap = xaddr + size
; vmsrc/apple/cmdjit.pla: 0993:         fin
	!BYTE	$6A			; LAW	_D038+0
_F116 	!WORD	_D038+0		
	!BYTE	$3C,$80			; ANDI	128
	!BYTE	$4C			; BRFLS	_B036
	!WORD	_B036-*
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$2C,$00,$60		; CW	24576
	!BYTE	$54			; CALL	_A015
_F117 	!WORD	_A015		
	!BYTE	$AC			; BRAND	_B038
	!WORD	_B038-*
	!BYTE	$6A			; LAW	_D073+0
_F118 	!WORD	_D073+0		
	!BYTE	$2C,$00,$40		; CW	16384
	!BYTE	$54			; CALL	_A014
_F119 	!WORD	_A014		
_B038 
	!BYTE	$4C			; BRFLS	_B039
	!WORD	_B039-*
	!BYTE	$2C,$00,$60		; CW	24576
	!BYTE	$6E,$02			; DLW	[2]
	!BYTE	$B2,$00			; ADDLW	[0]
	!BYTE	$7A			; SAW	_D073+0
_F120 	!WORD	_D073+0		
_B039 
_B040 
; vmsrc/apple/cmdjit.pla: 0994:     fin
_B036 
_B037 
; vmsrc/apple/cmdjit.pla: 0995:     if uword_isge(xheap, xheaptop)
; vmsrc/apple/cmdjit.pla: 0996:         return 0
	!BYTE	$6A			; LAW	_D073+0
_F121 	!WORD	_D073+0		
	!BYTE	$6A			; LAW	_D074+0
_F122 	!WORD	_D074+0		
	!BYTE	$54			; CALL	_A012
_F123 	!WORD	_A012		
	!BYTE	$4C			; BRFLS	_B041
	!WORD	_B041-*
	!BYTE	$00			; CN	0
	!BYTE	$5A,$04			; LEAVE	4
; vmsrc/apple/cmdjit.pla: 0997:     fin
_B041 
_B042 
; vmsrc/apple/cmdjit.pla: 0998:     return xaddr
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$5A,$04			; LEAVE	4
; vmsrc/apple/cmdjit.pla: 0999: end
; vmsrc/apple/cmdjit.pla: 1000: //
; vmsrc/apple/cmdjit.pla: 1001: // Symbol table routines.
; vmsrc/apple/cmdjit.pla: 1002: //
; vmsrc/apple/cmdjit.pla: 1003: def addsym(sym, addr)#0
					; sym -> [0]
					; addr -> [2]
_C011 					; addsym()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1004:     while ^sym & $80
	!BYTE	$58,$04,$02		; ENTER	4,2
	!BYTE	$50			; BRNCH	_B045
	!WORD	_B045-*
_B043 
; vmsrc/apple/cmdjit.pla: 1005:         ^lastsym = ^sym
; vmsrc/apple/cmdjit.pla: 1006:         lastsym++
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$6A			; LAW	_D075+0
_F124 	!WORD	_D075+0		
	!BYTE	$70			; SB
	!BYTE	$6A			; LAW	_D075+0
_F125 	!WORD	_D075+0		
	!BYTE	$8C			; INCR
; vmsrc/apple/cmdjit.pla: 1007:         sym++
	!BYTE	$7A			; SAW	_D075+0
_F126 	!WORD	_D075+0		
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$8C			; INCR
; vmsrc/apple/cmdjit.pla: 1008:     loop
	!BYTE	$76,$00			; SLW	[0]
_B045 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$3C,$80			; ANDI	128
	!BYTE	$4E			; BRTRU	_B043
	!WORD	_B043-*
_B044 
; vmsrc/apple/cmdjit.pla: 1009:     lastsym->0 = ^sym
; vmsrc/apple/cmdjit.pla: 1010:     lastsym=>1 = addr
; vmsrc/apple/cmdjit.pla: 1011:     lastsym    = lastsym + 3
; vmsrc/apple/cmdjit.pla: 1012:     ^lastsym   = 0
; vmsrc/apple/cmdjit.pla: 1013: end
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$6A			; LAW	_D075+0
_F127 	!WORD	_D075+0		
	!BYTE	$70			; SB
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$6A			; LAW	_D075+0
_F128 	!WORD	_D075+0		
	!BYTE	$8C			; INCR
	!BYTE	$72			; SW
	!BYTE	$6A			; LAW	_D075+0
_F129 	!WORD	_D075+0		
	!BYTE	$38,$03			; ADDI	3
	!BYTE	$7A			; SAW	_D075+0
_F130 	!WORD	_D075+0		
	!BYTE	$00			; CN	0
	!BYTE	$6A			; LAW	_D075+0
_F131 	!WORD	_D075+0		
	!BYTE	$70			; SB
	!BYTE	$5A,$04			; LEAVE	4
; vmsrc/apple/cmdjit.pla: 1014: //
; vmsrc/apple/cmdjit.pla: 1015: // String routines.
; vmsrc/apple/cmdjit.pla: 1016: //
; vmsrc/apple/cmdjit.pla: 1017: def strcpy(dst, src)#1
					; dst -> [0]
					; src -> [2]
_P018 					; strcpy(dst, src)#1()
_C012 					; strcpy()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1018:     memcpy(dst+1, src+1, ^src)
	!BYTE	$58,$04,$02		; ENTER	4,2
; vmsrc/apple/cmdjit.pla: 1019:     ^dst = ^src
; vmsrc/apple/cmdjit.pla: 1020:     return dst
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$8C			; INCR
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$8C			; INCR
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$60			; LB
	!BYTE	$54			; CALL	_A004
_F132 	!WORD	_A004		
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$60			; LB
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$70			; SB
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$5A,$04			; LEAVE	4
; vmsrc/apple/cmdjit.pla: 1021: end
; vmsrc/apple/cmdjit.pla: 1022: def strcat(dst, src)#1
					; dst -> [0]
					; src -> [2]
_P019 					; strcat(dst, src)#1()
_C013 					; strcat()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1023:     memcpy(dst + ^dst + 1, src + 1, ^src)
	!BYTE	$58,$04,$02		; ENTER	4,2
; vmsrc/apple/cmdjit.pla: 1024:     ^dst = ^dst + ^src
; vmsrc/apple/cmdjit.pla: 1025:     return dst
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$34			; DUP
	!BYTE	$60			; LB
	!BYTE	$82			; ADD 
	!BYTE	$8C			; INCR
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$8C			; INCR
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$60			; LB
	!BYTE	$54			; CALL	_A004
_F133 	!WORD	_A004		
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$60			; LB
	!BYTE	$82			; ADD 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$70			; SB
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$5A,$04			; LEAVE	4
; vmsrc/apple/cmdjit.pla: 1026: end
; vmsrc/apple/cmdjit.pla: 1027: //
; vmsrc/apple/cmdjit.pla: 1028: // Module routines.
; vmsrc/apple/cmdjit.pla: 1029: //
; vmsrc/apple/cmdjit.pla: 1030: def lookupextern(esd, index)#1
					; esd -> [0]
					; index -> [2]
_C014 					; lookupextern()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1031:     word sym, addr
					; sym -> [4]
					; addr -> [6]
; vmsrc/apple/cmdjit.pla: 1032:     byte str[33]
					; str -> [8]
; vmsrc/apple/cmdjit.pla: 1033:     sym = lookupidx(esd, index)
	!BYTE	$58,$29,$02		; ENTER	41,2
; vmsrc/apple/cmdjit.pla: 1034:     if sym
; vmsrc/apple/cmdjit.pla: 1035:         addr = lookuptbl(sym)
; vmsrc/apple/cmdjit.pla: 1036:         if !addr
; vmsrc/apple/cmdjit.pla: 1037:             perr = $81
; vmsrc/apple/cmdjit.pla: 1038:             dcitos(sym, @str)
; vmsrc/apple/cmdjit.pla: 1039:             cout('?'); prstr(@str); crout
; vmsrc/apple/cmdjit.pla: 1040:         fin
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$54			; CALL	_A022
_F134 	!WORD	_A022		
	!BYTE	$6E,$04			; DLW	[4]
	!BYTE	$4C			; BRFLS	_B046
	!WORD	_B046-*
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$54			; CALL	_A021
_F135 	!WORD	_A021		
	!BYTE	$6E,$06			; DLW	[6]
	!BYTE	$4E			; BRTRU	_B048
	!WORD	_B048-*
	!BYTE	$2A,$81			; CB	129
	!BYTE	$78			; SAB	_D035+0
_F136 	!WORD	_D035+0		
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$28,$08			; LLA	[8]
	!BYTE	$54			; CALL	_A018
_F137 	!WORD	_A018		
	!BYTE	$30			; DROP 
	!BYTE	$2A,$3F			; CB	63
	!BYTE	$54			; CALL	_A006
_F138 	!WORD	_A006		
	!BYTE	$28,$08			; LLA	[8]
	!BYTE	$54			; CALL	_A008
_F139 	!WORD	_A008		
	!BYTE	$54			; CALL	_A005
_F140 	!WORD	_A005		
_B048 
_B049 
; vmsrc/apple/cmdjit.pla: 1041:         return addr
	!BYTE	$66,$06			; LLW	[6]
	!BYTE	$5A,$29			; LEAVE	41
; vmsrc/apple/cmdjit.pla: 1042:     fin
_B046 
_B047 
; vmsrc/apple/cmdjit.pla: 1043:     return 0
	!BYTE	$00			; CN	0
	!BYTE	$5A,$29			; LEAVE	41
; vmsrc/apple/cmdjit.pla: 1044: end
; vmsrc/apple/cmdjit.pla: 1045: //
; vmsrc/apple/cmdjit.pla: 1046: // Indirect interpreter DEFinition entrypoint
; vmsrc/apple/cmdjit.pla: 1047: //
; vmsrc/apple/cmdjit.pla: 1048: def adddef(isfirst, addr, deflast)#1
					; isfirst -> [0]
					; addr -> [2]
					; deflast -> [4]
_C015 					; adddef()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1049:     word preventry, defentry, defsize
					; preventry -> [6]
					; defentry -> [8]
					; defsize -> [10]
; vmsrc/apple/cmdjit.pla: 1050: 
; vmsrc/apple/cmdjit.pla: 1051:     defentry = *deflast
	!BYTE	$58,$0C,$03		; ENTER	12,3
; vmsrc/apple/cmdjit.pla: 1052:     *deflast = defentry + t_defentry
; vmsrc/apple/cmdjit.pla: 1053:     if not isfirst
; vmsrc/apple/cmdjit.pla: 1054:         preventry = defentry - t_defentry
; vmsrc/apple/cmdjit.pla: 1055:         defsize   = addr - preventry=>bytecodeaddr
; vmsrc/apple/cmdjit.pla: 1056:         if defsize <= jitsize
; vmsrc/apple/cmdjit.pla: 1057:             preventry=>interpaddr   = $03D6    // JSR $03D6 (JIT INTERP)
; vmsrc/apple/cmdjit.pla: 1058:             preventry->callcount    = jitcount // Set JIT countdown
; vmsrc/apple/cmdjit.pla: 1059:             preventry->bytecodesize = defsize  // Set size
; vmsrc/apple/cmdjit.pla: 1060:         fin
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$62			; LW
	!BYTE	$6E,$08			; DLW	[8]
	!BYTE	$38,$07			; ADDI	7
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$72			; SW
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$4E			; BRTRU	_B050
	!WORD	_B050-*
	!BYTE	$66,$08			; LLW	[8]
	!BYTE	$3A,$07			; SUBI	7
	!BYTE	$76,$06			; SLW	[6]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$66,$06			; LLW	[6]
	!BYTE	$38,$03			; ADDI	3
	!BYTE	$62			; LW
	!BYTE	$84			; SUB 
	!BYTE	$6E,$0A			; DLW	[10]
	!BYTE	$68			; LAB	_D037+0
_F141 	!WORD	_D037+0		
	!BYTE	$4A			; ISLE
	!BYTE	$4C			; BRFLS	_B052
	!WORD	_B052-*
	!BYTE	$2C,$D6,$03		; CW	982
	!BYTE	$66,$06			; LLW	[6]
	!BYTE	$8C			; INCR
	!BYTE	$72			; SW
	!BYTE	$68			; LAB	_D036+0
_F142 	!WORD	_D036+0		
	!BYTE	$66,$06			; LLW	[6]
	!BYTE	$38,$05			; ADDI	5
	!BYTE	$70			; SB
	!BYTE	$66,$0A			; LLW	[10]
	!BYTE	$66,$06			; LLW	[6]
	!BYTE	$38,$06			; ADDI	6
	!BYTE	$70			; SB
_B052 
_B053 
; vmsrc/apple/cmdjit.pla: 1061:     fin
_B050 
_B051 
; vmsrc/apple/cmdjit.pla: 1062:     defentry->interpjsr    = $20
; vmsrc/apple/cmdjit.pla: 1063:     defentry=>interpaddr   = $03DC // JSR $03DC (BYTECODE INTERP)
; vmsrc/apple/cmdjit.pla: 1064:     defentry=>bytecodeaddr = addr
; vmsrc/apple/cmdjit.pla: 1065:     defentry->t_defentry   = 0 // NULL out next entry
; vmsrc/apple/cmdjit.pla: 1066:     return defentry
	!BYTE	$2A,$20			; CB	32
	!BYTE	$66,$08			; LLW	[8]
	!BYTE	$70			; SB
	!BYTE	$2C,$DC,$03		; CW	988
	!BYTE	$66,$08			; LLW	[8]
	!BYTE	$8C			; INCR
	!BYTE	$72			; SW
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$66,$08			; LLW	[8]
	!BYTE	$38,$03			; ADDI	3
	!BYTE	$72			; SW
	!BYTE	$00			; CN	0
	!BYTE	$66,$08			; LLW	[8]
	!BYTE	$38,$07			; ADDI	7
	!BYTE	$70			; SB
	!BYTE	$66,$08			; LLW	[8]
	!BYTE	$5A,$0C			; LEAVE	12
; vmsrc/apple/cmdjit.pla: 1067: end
; vmsrc/apple/cmdjit.pla: 1068: def loadmod(mod)#1
					; mod -> [0]
_C016 					; loadmod()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1069:     word rdlen[], bytecode, modsize, codefix, defofst, defcnt, init, initcode[], fixup
					; rdlen -> [2]
					; bytecode -> [2]
					; modsize -> [4]
					; codefix -> [6]
					; defofst -> [8]
					; defcnt -> [10]
					; init -> [12]
					; initcode -> [14]
					; fixup -> [14]
; vmsrc/apple/cmdjit.pla: 1070:     word addr, defaddr, modaddr, modfix, modofst, modend
					; addr -> [16]
					; defaddr -> [18]
					; modaddr -> [20]
					; modfix -> [22]
					; modofst -> [24]
					; modend -> [26]
; vmsrc/apple/cmdjit.pla: 1071:     word deftbl, deflast
					; deftbl -> [28]
					; deflast -> [30]
; vmsrc/apple/cmdjit.pla: 1072:     word moddep, rld, esd, sym
					; moddep -> [32]
					; rld -> [34]
					; esd -> [36]
					; sym -> [38]
; vmsrc/apple/cmdjit.pla: 1073:     byte refnum[], deffirst, skipjit, filename[64], str[]
					; refnum -> [40]
					; deffirst -> [40]
					; skipjit -> [41]
					; filename -> [42]
					; str -> [106]
; vmsrc/apple/cmdjit.pla: 1074:     byte header[128]
					; header -> [106]
; vmsrc/apple/cmdjit.pla: 1075:     //
; vmsrc/apple/cmdjit.pla: 1076:     // Read the RELocatable module header (first 128 bytes)
; vmsrc/apple/cmdjit.pla: 1077:     //
; vmsrc/apple/cmdjit.pla: 1078:     dcitos(mod, @filename)
	!BYTE	$58,$EA,$01		; ENTER	234,1
; vmsrc/apple/cmdjit.pla: 1079:     refnum = open(@filename)
; vmsrc/apple/cmdjit.pla: 1080:     if !refnum and filename < 16
; vmsrc/apple/cmdjit.pla: 1081:         //
; vmsrc/apple/cmdjit.pla: 1082:         // Try system path
; vmsrc/apple/cmdjit.pla: 1083:         //
; vmsrc/apple/cmdjit.pla: 1084:         refnum = open(strcpy(@filename,strcat(strcpy(@header, @sysmods), @filename)))
; vmsrc/apple/cmdjit.pla: 1085:     fin
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$28,$2A			; LLA	[42]
	!BYTE	$54			; CALL	_A018
_F143 	!WORD	_A018		
	!BYTE	$30			; DROP 
	!BYTE	$28,$2A			; LLA	[42]
	!BYTE	$54			; CALL	_C002
_F144 	!WORD	_C002		
	!BYTE	$6C,$28			; DLB	[40]
	!BYTE	$80			; NOT
	!BYTE	$AC			; BRAND	_B054
	!WORD	_B054-*
	!BYTE	$64,$2A			; LLB	[42]
	!BYTE	$2A,$10			; CB	16
	!BYTE	$46			; ISLT
_B054 
	!BYTE	$4C			; BRFLS	_B055
	!WORD	_B055-*
	!BYTE	$28,$2A			; LLA	[42]
	!BYTE	$28,$6A			; LLA	[106]
	!BYTE	$26			; LA	_D070+0
_F145 	!WORD	_D070+0		
	!BYTE	$54			; CALL	_C012
_F146 	!WORD	_C012		
	!BYTE	$28,$2A			; LLA	[42]
	!BYTE	$54			; CALL	_C013
_F147 	!WORD	_C013		
	!BYTE	$54			; CALL	_C012
_F148 	!WORD	_C012		
	!BYTE	$54			; CALL	_C002
_F149 	!WORD	_C002		
	!BYTE	$74,$28			; SLB	[40]
_B055 
_B056 
; vmsrc/apple/cmdjit.pla: 1086:     if refnum
; vmsrc/apple/cmdjit.pla: 1087:         header.0 = $0A
; vmsrc/apple/cmdjit.pla: 1088:         header:1 = @filename
; vmsrc/apple/cmdjit.pla: 1089:         if not syscall($C4, @header) and header.4 <> $FE // Make sure it's a REL module
; vmsrc/apple/cmdjit.pla: 1090:             close(refnum)
; vmsrc/apple/cmdjit.pla: 1091:             perr = $4A // Incompatible type
; vmsrc/apple/cmdjit.pla: 1092:             return -perr
	!BYTE	$64,$28			; LLB	[40]
	!BYTE	$4C			; BRFLS	_B057
	!WORD	_B057-*
	!BYTE	$14			; CN	10
	!BYTE	$74,$6A			; SLB	[106]
	!BYTE	$28,$2A			; LLA	[42]
	!BYTE	$76,$6B			; SLW	[107]
	!BYTE	$2A,$C4			; CB	196
	!BYTE	$28,$6A			; LLA	[106]
	!BYTE	$54			; CALL	_A000
_F150 	!WORD	_A000		
	!BYTE	$80			; NOT
	!BYTE	$AC			; BRAND	_B059
	!WORD	_B059-*
	!BYTE	$64,$6E			; LLB	[110]
	!BYTE	$2A,$FE			; CB	254
	!BYTE	$42			; ISNE
_B059 
	!BYTE	$4C			; BRFLS	_B060
	!WORD	_B060-*
	!BYTE	$64,$28			; LLB	[40]
	!BYTE	$54			; CALL	_C003
_F151 	!WORD	_C003		
	!BYTE	$30			; DROP 
	!BYTE	$2A,$4A			; CB	74
	!BYTE	$7C			; DAB	_D035+0
_F152 	!WORD	_D035+0		
	!BYTE	$90			; NEG
	!BYTE	$5A,$EA			; LEAVE	234
; vmsrc/apple/cmdjit.pla: 1093:         fin
_B060 
_B061 
; vmsrc/apple/cmdjit.pla: 1094:         rdlen   = read(refnum, @header, 128)
; vmsrc/apple/cmdjit.pla: 1095:         modsize = header:0
; vmsrc/apple/cmdjit.pla: 1096:         moddep  = @header.1
; vmsrc/apple/cmdjit.pla: 1097:         defofst = modsize + RELADDR
; vmsrc/apple/cmdjit.pla: 1098:         init    = 0
; vmsrc/apple/cmdjit.pla: 1099:         if rdlen > 4 and header:2 == $6502 // magic number
; vmsrc/apple/cmdjit.pla: 1100:             //
; vmsrc/apple/cmdjit.pla: 1101:             // This is an EXTended RELocatable (data+bytecode) module.
; vmsrc/apple/cmdjit.pla: 1102:             //
; vmsrc/apple/cmdjit.pla: 1103:             systemflags = header.4 | systemflags
; vmsrc/apple/cmdjit.pla: 1104:             skipjit     = header.5 & (nojitc >> 8)
; vmsrc/apple/cmdjit.pla: 1105:             defofst     = header:6
; vmsrc/apple/cmdjit.pla: 1106:             defcnt      = header:8
; vmsrc/apple/cmdjit.pla: 1107:             init        = header:10
; vmsrc/apple/cmdjit.pla: 1108:             moddep      = @header.12
; vmsrc/apple/cmdjit.pla: 1109:             //
; vmsrc/apple/cmdjit.pla: 1110:             // Load module dependencies.
; vmsrc/apple/cmdjit.pla: 1111:             //
; vmsrc/apple/cmdjit.pla: 1112:             while ^moddep
	!BYTE	$64,$28			; LLB	[40]
	!BYTE	$28,$6A			; LLA	[106]
	!BYTE	$2A,$80			; CB	128
	!BYTE	$54			; CALL	_C004
_F153 	!WORD	_C004		
	!BYTE	$76,$02			; SLW	[2]
	!BYTE	$66,$6A			; LLW	[106]
	!BYTE	$76,$04			; SLW	[4]
	!BYTE	$28,$6B			; LLA	[107]
	!BYTE	$76,$20			; SLW	[32]
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$2C,$00,$10		; CW	4096
	!BYTE	$82			; ADD 
	!BYTE	$76,$08			; SLW	[8]
	!BYTE	$00			; CN	0
	!BYTE	$76,$0C			; SLW	[12]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$08			; CN	4
	!BYTE	$44			; ISGT
	!BYTE	$AC			; BRAND	_B062
	!WORD	_B062-*
	!BYTE	$66,$6C			; LLW	[108]
	!BYTE	$2C,$02,$65		; CW	25858
	!BYTE	$40			; ISEQ
_B062 
	!BYTE	$4C			; BRFLS	_B063
	!WORD	_B063-*
	!BYTE	$64,$6E			; LLB	[110]
	!BYTE	$6A			; LAW	_D038+0
_F154 	!WORD	_D038+0		
	!BYTE	$96			; OR 
	!BYTE	$7A			; SAW	_D038+0
_F155 	!WORD	_D038+0		
	!BYTE	$64,$6F			; LLB	[111]
	!BYTE	$3C,$01			; ANDI	1
	!BYTE	$74,$29			; SLB	[41]
	!BYTE	$66,$70			; LLW	[112]
	!BYTE	$76,$08			; SLW	[8]
	!BYTE	$66,$72			; LLW	[114]
	!BYTE	$76,$0A			; SLW	[10]
	!BYTE	$66,$74			; LLW	[116]
	!BYTE	$76,$0C			; SLW	[12]
	!BYTE	$28,$76			; LLA	[118]
	!BYTE	$76,$20			; SLW	[32]
	!BYTE	$50			; BRNCH	_B067
	!WORD	_B067-*
_B065 
; vmsrc/apple/cmdjit.pla: 1113:                 if !lookuptbl(moddep)
; vmsrc/apple/cmdjit.pla: 1114:                     close(refnum)
; vmsrc/apple/cmdjit.pla: 1115:                     refnum = 0
; vmsrc/apple/cmdjit.pla: 1116:                     if loadmod(moddep) < 0
; vmsrc/apple/cmdjit.pla: 1117:                         return -perr
	!BYTE	$66,$20			; LLW	[32]
	!BYTE	$54			; CALL	_A021
_F156 	!WORD	_A021		
	!BYTE	$4E			; BRTRU	_B068
	!WORD	_B068-*
	!BYTE	$64,$28			; LLB	[40]
	!BYTE	$54			; CALL	_C003
_F157 	!WORD	_C003		
	!BYTE	$30			; DROP 
	!BYTE	$00			; CN	0
	!BYTE	$74,$28			; SLB	[40]
	!BYTE	$66,$20			; LLW	[32]
	!BYTE	$54			; CALL	_C016
_F158 	!WORD	_C016		
	!BYTE	$00			; CN	0
	!BYTE	$46			; ISLT
	!BYTE	$4C			; BRFLS	_B070
	!WORD	_B070-*
	!BYTE	$68			; LAB	_D035+0
_F159 	!WORD	_D035+0		
	!BYTE	$90			; NEG
	!BYTE	$5A,$EA			; LEAVE	234
; vmsrc/apple/cmdjit.pla: 1118:                     fin
_B070 
_B071 
; vmsrc/apple/cmdjit.pla: 1119:                 fin
_B068 
_B069 
; vmsrc/apple/cmdjit.pla: 1120:                 moddep = moddep + dcitos(moddep, @str)
; vmsrc/apple/cmdjit.pla: 1121:             loop
	!BYTE	$66,$20			; LLW	[32]
	!BYTE	$34			; DUP
	!BYTE	$28,$6A			; LLA	[106]
	!BYTE	$54			; CALL	_A018
_F160 	!WORD	_A018		
	!BYTE	$82			; ADD 
	!BYTE	$76,$20			; SLW	[32]
_B067 
	!BYTE	$66,$20			; LLW	[32]
	!BYTE	$60			; LB
	!BYTE	$4E			; BRTRU	_B065
	!WORD	_B065-*
_B066 
; vmsrc/apple/cmdjit.pla: 1122:             //
; vmsrc/apple/cmdjit.pla: 1123:             // Init def table.
; vmsrc/apple/cmdjit.pla: 1124:             //
; vmsrc/apple/cmdjit.pla: 1125:             deftbl   = allocheap(defcnt * t_defentry + 1)
; vmsrc/apple/cmdjit.pla: 1126:             deflast  = deftbl
; vmsrc/apple/cmdjit.pla: 1127:             if !refnum
; vmsrc/apple/cmdjit.pla: 1128:                 //
; vmsrc/apple/cmdjit.pla: 1129:                 // Reset read pointer.
; vmsrc/apple/cmdjit.pla: 1130:                 //
; vmsrc/apple/cmdjit.pla: 1131:                 refnum = open(@filename)
; vmsrc/apple/cmdjit.pla: 1132:                 rdlen  = read(refnum, @header, 128)
; vmsrc/apple/cmdjit.pla: 1133:             fin
	!BYTE	$66,$0A			; LLW	[10]
	!BYTE	$0E			; CN	7
	!BYTE	$86			; MUL
	!BYTE	$8C			; INCR
	!BYTE	$54			; CALL	_C006
_F161 	!WORD	_C006		
	!BYTE	$6E,$1C			; DLW	[28]
	!BYTE	$76,$1E			; SLW	[30]
	!BYTE	$64,$28			; LLB	[40]
	!BYTE	$4E			; BRTRU	_B072
	!WORD	_B072-*
	!BYTE	$28,$2A			; LLA	[42]
	!BYTE	$54			; CALL	_C002
_F162 	!WORD	_C002		
	!BYTE	$6C,$28			; DLB	[40]
	!BYTE	$28,$6A			; LLA	[106]
	!BYTE	$2A,$80			; CB	128
	!BYTE	$54			; CALL	_C004
_F163 	!WORD	_C004		
	!BYTE	$76,$02			; SLW	[2]
_B072 
_B073 
; vmsrc/apple/cmdjit.pla: 1134:         fin
_B063 
_B064 
; vmsrc/apple/cmdjit.pla: 1135:         //
; vmsrc/apple/cmdjit.pla: 1136:         // Alloc heap space for relocated module (data + bytecode).
; vmsrc/apple/cmdjit.pla: 1137:         //
; vmsrc/apple/cmdjit.pla: 1138:         moddep  = moddep  + 1
; vmsrc/apple/cmdjit.pla: 1139:         modfix  = moddep  - @header.2 // Adjust to skip header
; vmsrc/apple/cmdjit.pla: 1140:         modsize = modsize - modfix
; vmsrc/apple/cmdjit.pla: 1141:         rdlen   = rdlen   - modfix - 2
; vmsrc/apple/cmdjit.pla: 1142:         modaddr = allocheap(modsize)
; vmsrc/apple/cmdjit.pla: 1143:         memcpy(modaddr, moddep, rdlen)
; vmsrc/apple/cmdjit.pla: 1144:         //
; vmsrc/apple/cmdjit.pla: 1145:         // Read in remainder of module into memory for fixups.
; vmsrc/apple/cmdjit.pla: 1146:         //
; vmsrc/apple/cmdjit.pla: 1147:         addr = modaddr
; vmsrc/apple/cmdjit.pla: 1148:         repeat
	!BYTE	$66,$20			; LLW	[32]
	!BYTE	$8C			; INCR
	!BYTE	$6E,$20			; DLW	[32]
	!BYTE	$28,$6C			; LLA	[108]
	!BYTE	$84			; SUB 
	!BYTE	$76,$16			; SLW	[22]
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$66,$16			; LLW	[22]
	!BYTE	$84			; SUB 
	!BYTE	$76,$04			; SLW	[4]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$66,$16			; LLW	[22]
	!BYTE	$84			; SUB 
	!BYTE	$3A,$02			; SUBI	2
	!BYTE	$76,$02			; SLW	[2]
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$54			; CALL	_C006
_F164 	!WORD	_C006		
	!BYTE	$6E,$14			; DLW	[20]
	!BYTE	$66,$20			; LLW	[32]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$54			; CALL	_A004
_F165 	!WORD	_A004		
	!BYTE	$66,$14			; LLW	[20]
	!BYTE	$76,$10			; SLW	[16]
_B075 
; vmsrc/apple/cmdjit.pla: 1149:             addr  = addr + rdlen
; vmsrc/apple/cmdjit.pla: 1150:             rdlen = read(refnum, addr, 4096)
; vmsrc/apple/cmdjit.pla: 1151:         until rdlen <= 0
	!BYTE	$66,$10			; LLW	[16]
	!BYTE	$B2,$02			; ADDLW	[2]
	!BYTE	$76,$10			; SLW	[16]
	!BYTE	$64,$28			; LLB	[40]
	!BYTE	$66,$10			; LLW	[16]
	!BYTE	$2C,$00,$10		; CW	4096
	!BYTE	$54			; CALL	_C004
_F166 	!WORD	_C004		
	!BYTE	$76,$02			; SLW	[2]
_B076 
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$00			; CN	0
	!BYTE	$4A			; ISLE
	!BYTE	$4C			; BRFLS	_B075
	!WORD	_B075-*
_B074 
; vmsrc/apple/cmdjit.pla: 1152:         close(refnum)
; vmsrc/apple/cmdjit.pla: 1153:         //
; vmsrc/apple/cmdjit.pla: 1154:         // Add module to symbol table.
; vmsrc/apple/cmdjit.pla: 1155:         //
; vmsrc/apple/cmdjit.pla: 1156:         addsym(mod, modaddr)
; vmsrc/apple/cmdjit.pla: 1157:         //
; vmsrc/apple/cmdjit.pla: 1158:         // Apply all fixups and symbol import/export.
; vmsrc/apple/cmdjit.pla: 1159:         //
; vmsrc/apple/cmdjit.pla: 1160:         modfix   = modaddr - modfix
; vmsrc/apple/cmdjit.pla: 1161:         modofst  = modfix  - RELADDR
; vmsrc/apple/cmdjit.pla: 1162:         modend   = modaddr + modsize
; vmsrc/apple/cmdjit.pla: 1163:         bytecode = defofst + modofst
; vmsrc/apple/cmdjit.pla: 1164:         rld      = modend  // Re-Locatable Directory
; vmsrc/apple/cmdjit.pla: 1165:         esd      = rld     // Extern+Entry Symbol Directory
; vmsrc/apple/cmdjit.pla: 1166:         while ^esd         // Scan to end of ESD
	!BYTE	$64,$28			; LLB	[40]
	!BYTE	$54			; CALL	_C003
_F167 	!WORD	_C003		
	!BYTE	$30			; DROP 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$66,$14			; LLW	[20]
	!BYTE	$54			; CALL	_C011
_F168 	!WORD	_C011		
	!BYTE	$66,$14			; LLW	[20]
	!BYTE	$66,$16			; LLW	[22]
	!BYTE	$84			; SUB 
	!BYTE	$6E,$16			; DLW	[22]
	!BYTE	$2C,$00,$10		; CW	4096
	!BYTE	$84			; SUB 
	!BYTE	$76,$18			; SLW	[24]
	!BYTE	$66,$14			; LLW	[20]
	!BYTE	$B2,$04			; ADDLW	[4]
	!BYTE	$76,$1A			; SLW	[26]
	!BYTE	$66,$08			; LLW	[8]
	!BYTE	$B2,$18			; ADDLW	[24]
	!BYTE	$76,$02			; SLW	[2]
	!BYTE	$66,$1A			; LLW	[26]
	!BYTE	$6E,$22			; DLW	[34]
	!BYTE	$76,$24			; SLW	[36]
	!BYTE	$50			; BRNCH	_B079
	!WORD	_B079-*
_B077 
; vmsrc/apple/cmdjit.pla: 1167:             esd = esd + 4
; vmsrc/apple/cmdjit.pla: 1168:         loop
	!BYTE	$66,$24			; LLW	[36]
	!BYTE	$38,$04			; ADDI	4
	!BYTE	$76,$24			; SLW	[36]
_B079 
	!BYTE	$66,$24			; LLW	[36]
	!BYTE	$60			; LB
	!BYTE	$4E			; BRTRU	_B077
	!WORD	_B077-*
_B078 
; vmsrc/apple/cmdjit.pla: 1169:         esd = esd + 1
; vmsrc/apple/cmdjit.pla: 1170:         defaddr = allocxheap(rld - bytecode)
; vmsrc/apple/cmdjit.pla: 1171:         modend  = bytecode
; vmsrc/apple/cmdjit.pla: 1172:         codefix = defaddr - bytecode
; vmsrc/apple/cmdjit.pla: 1173:         defofst = defaddr - defofst
; vmsrc/apple/cmdjit.pla: 1174:         //
; vmsrc/apple/cmdjit.pla: 1175:         // Run through the DeFinition Dictionary.
; vmsrc/apple/cmdjit.pla: 1176:         //
; vmsrc/apple/cmdjit.pla: 1177:         deffirst    = 1
; vmsrc/apple/cmdjit.pla: 1178:         while ^rld == $02
	!BYTE	$66,$24			; LLW	[36]
	!BYTE	$8C			; INCR
	!BYTE	$76,$24			; SLW	[36]
	!BYTE	$66,$22			; LLW	[34]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$84			; SUB 
	!BYTE	$54			; CALL	_C010
_F169 	!WORD	_C010		
	!BYTE	$76,$12			; SLW	[18]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$76,$1A			; SLW	[26]
	!BYTE	$66,$12			; LLW	[18]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$84			; SUB 
	!BYTE	$76,$06			; SLW	[6]
	!BYTE	$66,$12			; LLW	[18]
	!BYTE	$66,$08			; LLW	[8]
	!BYTE	$84			; SUB 
	!BYTE	$76,$08			; SLW	[8]
	!BYTE	$02			; CN	1
	!BYTE	$74,$28			; SLB	[40]
	!BYTE	$50			; BRNCH	_B082
	!WORD	_B082-*
_B080 
; vmsrc/apple/cmdjit.pla: 1179:             //
; vmsrc/apple/cmdjit.pla: 1180:             // This is a bytcode def entry - add it to the def directory.
; vmsrc/apple/cmdjit.pla: 1181:             //
; vmsrc/apple/cmdjit.pla: 1182:             adddef(deffirst, rld=>1 + defofst, @deflast)
; vmsrc/apple/cmdjit.pla: 1183:             deffirst = skipjit // Calculate JIT potential or not
; vmsrc/apple/cmdjit.pla: 1184:             rld      = rld + 4
; vmsrc/apple/cmdjit.pla: 1185:         loop
	!BYTE	$64,$28			; LLB	[40]
	!BYTE	$66,$22			; LLW	[34]
	!BYTE	$8C			; INCR
	!BYTE	$62			; LW
	!BYTE	$B2,$08			; ADDLW	[8]
	!BYTE	$28,$1E			; LLA	[30]
	!BYTE	$54			; CALL	_C015
_F170 	!WORD	_C015		
	!BYTE	$30			; DROP 
	!BYTE	$64,$29			; LLB	[41]
	!BYTE	$74,$28			; SLB	[40]
	!BYTE	$66,$22			; LLW	[34]
	!BYTE	$38,$04			; ADDI	4
	!BYTE	$76,$22			; SLW	[34]
_B082 
	!BYTE	$66,$22			; LLW	[34]
	!BYTE	$60			; LB
	!BYTE	$04			; CN	2
	!BYTE	$22			; BREQ	_B080
	!WORD	_B080-*
_B081 
; vmsrc/apple/cmdjit.pla: 1186:         //
; vmsrc/apple/cmdjit.pla: 1187:         // Run through the Re-Location Dictionary.
; vmsrc/apple/cmdjit.pla: 1188:         //
; vmsrc/apple/cmdjit.pla: 1189:         while ^rld
	!BYTE	$50			; BRNCH	_B085
	!WORD	_B085-*
_B083 
; vmsrc/apple/cmdjit.pla: 1190:             rld, addr, fixup = reloc(modfix, modofst, bytecode, rld)
; vmsrc/apple/cmdjit.pla: 1191:             if ^rld
; vmsrc/apple/cmdjit.pla: 1192:                 *addr = ^rld & $10 ?? *addr + lookupextern(esd, rld->3) :: lookupdef(fixup + codefix, deftbl)
; vmsrc/apple/cmdjit.pla: 1193:                 rld   = rld + 4
; vmsrc/apple/cmdjit.pla: 1194:             fin
	!BYTE	$66,$16			; LLW	[22]
	!BYTE	$66,$18			; LLW	[24]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$66,$22			; LLW	[34]
	!BYTE	$54			; CALL	_A024
_F171 	!WORD	_A024		
	!BYTE	$76,$0E			; SLW	[14]
	!BYTE	$76,$10			; SLW	[16]
	!BYTE	$6E,$22			; DLW	[34]
	!BYTE	$60			; LB
	!BYTE	$4C			; BRFLS	_B086
	!WORD	_B086-*
	!BYTE	$66,$22			; LLW	[34]
	!BYTE	$60			; LB
	!BYTE	$3C,$10			; ANDI	16
	!BYTE	$4C			; BRFLS	_B088
	!WORD	_B088-*
	!BYTE	$66,$10			; LLW	[16]
	!BYTE	$62			; LW
	!BYTE	$66,$24			; LLW	[36]
	!BYTE	$66,$22			; LLW	[34]
	!BYTE	$38,$03			; ADDI	3
	!BYTE	$60			; LB
	!BYTE	$54			; CALL	_C014
_F172 	!WORD	_C014		
	!BYTE	$82			; ADD 
	!BYTE	$50			; BRNCH	_B089
	!WORD	_B089-*
_B088 
	!BYTE	$66,$0E			; LLW	[14]
	!BYTE	$B2,$06			; ADDLW	[6]
	!BYTE	$66,$1C			; LLW	[28]
	!BYTE	$54			; CALL	_A023
_F173 	!WORD	_A023		
_B089 
	!BYTE	$66,$10			; LLW	[16]
	!BYTE	$72			; SW
	!BYTE	$66,$22			; LLW	[34]
	!BYTE	$38,$04			; ADDI	4
	!BYTE	$76,$22			; SLW	[34]
_B086 
_B087 
; vmsrc/apple/cmdjit.pla: 1195:         loop
_B085 
	!BYTE	$66,$22			; LLW	[34]
	!BYTE	$60			; LB
	!BYTE	$4E			; BRTRU	_B083
	!WORD	_B083-*
_B084 
; vmsrc/apple/cmdjit.pla: 1196:         //
; vmsrc/apple/cmdjit.pla: 1197:         // Run through the External/Entry Symbol Directory.
; vmsrc/apple/cmdjit.pla: 1198:         //
; vmsrc/apple/cmdjit.pla: 1199:         while ^esd
	!BYTE	$50			; BRNCH	_B092
	!WORD	_B092-*
_B090 
; vmsrc/apple/cmdjit.pla: 1200:             sym = esd
; vmsrc/apple/cmdjit.pla: 1201:             esd = esd + dcitos(esd, @str)
; vmsrc/apple/cmdjit.pla: 1202:             if ^esd & $08
; vmsrc/apple/cmdjit.pla: 1203:                 //
; vmsrc/apple/cmdjit.pla: 1204:                 // EXPORT symbol - add it to the global symbol table.
; vmsrc/apple/cmdjit.pla: 1205:                 //
; vmsrc/apple/cmdjit.pla: 1206:                 addr = esd=>1 + modofst
; vmsrc/apple/cmdjit.pla: 1207:                 if uword_isge(addr, bytecode)
; vmsrc/apple/cmdjit.pla: 1208:                     //
; vmsrc/apple/cmdjit.pla: 1209:                     // Use the def directory address for bytecode.
; vmsrc/apple/cmdjit.pla: 1210:                     //
; vmsrc/apple/cmdjit.pla: 1211:                     addr = lookupdef(addr + codefix, deftbl)
; vmsrc/apple/cmdjit.pla: 1212:                 fin
	!BYTE	$66,$24			; LLW	[36]
	!BYTE	$76,$26			; SLW	[38]
	!BYTE	$66,$24			; LLW	[36]
	!BYTE	$34			; DUP
	!BYTE	$28,$6A			; LLA	[106]
	!BYTE	$54			; CALL	_A018
_F174 	!WORD	_A018		
	!BYTE	$82			; ADD 
	!BYTE	$6E,$24			; DLW	[36]
	!BYTE	$60			; LB
	!BYTE	$3C,$08			; ANDI	8
	!BYTE	$4C			; BRFLS	_B093
	!WORD	_B093-*
	!BYTE	$66,$24			; LLW	[36]
	!BYTE	$8C			; INCR
	!BYTE	$62			; LW
	!BYTE	$B2,$18			; ADDLW	[24]
	!BYTE	$6E,$10			; DLW	[16]
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$54			; CALL	_A012
_F175 	!WORD	_A012		
	!BYTE	$4C			; BRFLS	_B095
	!WORD	_B095-*
	!BYTE	$66,$10			; LLW	[16]
	!BYTE	$B2,$06			; ADDLW	[6]
	!BYTE	$66,$1C			; LLW	[28]
	!BYTE	$54			; CALL	_A023
_F176 	!WORD	_A023		
	!BYTE	$76,$10			; SLW	[16]
_B095 
_B096 
; vmsrc/apple/cmdjit.pla: 1213:                 addsym(sym, addr)
; vmsrc/apple/cmdjit.pla: 1214:             fin
	!BYTE	$66,$26			; LLW	[38]
	!BYTE	$66,$10			; LLW	[16]
	!BYTE	$54			; CALL	_C011
_F177 	!WORD	_C011		
_B093 
_B094 
; vmsrc/apple/cmdjit.pla: 1215:             esd = esd + 3
; vmsrc/apple/cmdjit.pla: 1216:         loop
	!BYTE	$66,$24			; LLW	[36]
	!BYTE	$38,$03			; ADDI	3
	!BYTE	$76,$24			; SLW	[36]
_B092 
	!BYTE	$66,$24			; LLW	[36]
	!BYTE	$60			; LB
	!BYTE	$4E			; BRTRU	_B090
	!WORD	_B090-*
_B091 
; vmsrc/apple/cmdjit.pla: 1217:         //
; vmsrc/apple/cmdjit.pla: 1218:         // Move bytecode to AUX bank.
; vmsrc/apple/cmdjit.pla: 1219:         //
; vmsrc/apple/cmdjit.pla: 1220:         *$003C   = bytecode
; vmsrc/apple/cmdjit.pla: 1221:         *$003E   = modaddr + modsize
; vmsrc/apple/cmdjit.pla: 1222:         *$0042   = defaddr
; vmsrc/apple/cmdjit.pla: 1223:         call($C311, 0, 0, 0, $05) // CALL XMOVE with carry set (MAIN->AUX) and ints disabled
; vmsrc/apple/cmdjit.pla: 1224:     else
	!BYTE	$66,$02			; LLW	[2]
	!BYTE	$7A,$3C,$00		; SAW	60
	!BYTE	$66,$14			; LLW	[20]
	!BYTE	$B2,$04			; ADDLW	[4]
	!BYTE	$7A,$3E,$00		; SAW	62
	!BYTE	$66,$12			; LLW	[18]
	!BYTE	$7A,$42,$00		; SAW	66
	!BYTE	$2C,$11,$C3		; CW	49937
	!BYTE	$00			; CN	0
	!BYTE	$00			; CN	0
	!BYTE	$00			; CN	0
	!BYTE	$0A			; CN	5
	!BYTE	$54			; CALL	_A001
_F178 	!WORD	_A001		
	!BYTE	$30			; DROP 
	!BYTE	$50			; BRNCH	_B058
	!WORD	_B058-*
_B057 
; vmsrc/apple/cmdjit.pla: 1225:         perr = $46
; vmsrc/apple/cmdjit.pla: 1226:     fin
	!BYTE	$2A,$46			; CB	70
	!BYTE	$78			; SAB	_D035+0
_F179 	!WORD	_D035+0		
_B058 
; vmsrc/apple/cmdjit.pla: 1227:     if perr
; vmsrc/apple/cmdjit.pla: 1228:         return -perr
	!BYTE	$68			; LAB	_D035+0
_F180 	!WORD	_D035+0		
	!BYTE	$4C			; BRFLS	_B097
	!WORD	_B097-*
	!BYTE	$68			; LAB	_D035+0
_F181 	!WORD	_D035+0		
	!BYTE	$90			; NEG
	!BYTE	$5A,$EA			; LEAVE	234
; vmsrc/apple/cmdjit.pla: 1229:     fin
_B097 
_B098 
; vmsrc/apple/cmdjit.pla: 1230:     //
; vmsrc/apple/cmdjit.pla: 1231:     // Free up rld+esd+bytecode in main memory.
; vmsrc/apple/cmdjit.pla: 1232:     //
; vmsrc/apple/cmdjit.pla: 1233:     releaseheap(modend)
; vmsrc/apple/cmdjit.pla: 1234:     //
; vmsrc/apple/cmdjit.pla: 1235:     // Call init routine if it exists.
; vmsrc/apple/cmdjit.pla: 1236:     //
; vmsrc/apple/cmdjit.pla: 1237:     initcode = modkeep
; vmsrc/apple/cmdjit.pla: 1238:     if init
; vmsrc/apple/cmdjit.pla: 1239:         init     = init + defofst
; vmsrc/apple/cmdjit.pla: 1240:         initcode = adddef(deffirst, init, @deflast)()
; vmsrc/apple/cmdjit.pla: 1241:         if initcode < modinitkeep
; vmsrc/apple/cmdjit.pla: 1242:             //
; vmsrc/apple/cmdjit.pla: 1243:             // Free init routine unless initkeep
; vmsrc/apple/cmdjit.pla: 1244:             //
; vmsrc/apple/cmdjit.pla: 1245:             xheap = init
; vmsrc/apple/cmdjit.pla: 1246:             if initcode < 0
; vmsrc/apple/cmdjit.pla: 1247:                 perr = -initcode
; vmsrc/apple/cmdjit.pla: 1248:             fin
	!BYTE	$66,$1A			; LLW	[26]
	!BYTE	$54			; CALL	_C009
_F182 	!WORD	_C009		
	!BYTE	$30			; DROP 
	!BYTE	$2C,$00,$20		; CW	8192
	!BYTE	$76,$0E			; SLW	[14]
	!BYTE	$66,$0C			; LLW	[12]
	!BYTE	$4C			; BRFLS	_B099
	!WORD	_B099-*
	!BYTE	$66,$0C			; LLW	[12]
	!BYTE	$B2,$08			; ADDLW	[8]
	!BYTE	$76,$0C			; SLW	[12]
	!BYTE	$64,$28			; LLB	[40]
	!BYTE	$66,$0C			; LLW	[12]
	!BYTE	$28,$1E			; LLA	[30]
	!BYTE	$54			; CALL	_C015
_F183 	!WORD	_C015		
	!BYTE	$56			; ICAL
	!BYTE	$6E,$0E			; DLW	[14]
	!BYTE	$2C,$00,$40		; CW	16384
	!BYTE	$46			; ISLT
	!BYTE	$4C			; BRFLS	_B101
	!WORD	_B101-*
	!BYTE	$66,$0C			; LLW	[12]
	!BYTE	$7A			; SAW	_D073+0
_F184 	!WORD	_D073+0		
	!BYTE	$66,$0E			; LLW	[14]
	!BYTE	$00			; CN	0
	!BYTE	$46			; ISLT
	!BYTE	$4C			; BRFLS	_B103
	!WORD	_B103-*
	!BYTE	$66,$0E			; LLW	[14]
	!BYTE	$90			; NEG
	!BYTE	$78			; SAB	_D035+0
_F185 	!WORD	_D035+0		
_B103 
_B104 
; vmsrc/apple/cmdjit.pla: 1249:         else
	!BYTE	$50			; BRNCH	_B102
	!WORD	_B102-*
_B101 
; vmsrc/apple/cmdjit.pla: 1250:             initcode = initcode & ~modinitkeep
; vmsrc/apple/cmdjit.pla: 1251:         fin
	!BYTE	$66,$0E			; LLW	[14]
	!BYTE	$2C,$FF,$BF		; CW	-16385
	!BYTE	$94			; AND 
	!BYTE	$76,$0E			; SLW	[14]
_B102 
; vmsrc/apple/cmdjit.pla: 1252:     fin
_B099 
_B100 
; vmsrc/apple/cmdjit.pla: 1253:     return initcode
	!BYTE	$66,$0E			; LLW	[14]
	!BYTE	$5A,$EA			; LEAVE	234
; vmsrc/apple/cmdjit.pla: 1254: end
; vmsrc/apple/cmdjit.pla: 1255: //
; vmsrc/apple/cmdjit.pla: 1256: // Command mode
; vmsrc/apple/cmdjit.pla: 1257: //
; vmsrc/apple/cmdjit.pla: 1258: def volumes()#0
_C017 					; volumes()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1259:     byte params[4]
					; params -> [0]
; vmsrc/apple/cmdjit.pla: 1260:     word strbuf
					; strbuf -> [4]
; vmsrc/apple/cmdjit.pla: 1261:     byte i
					; i -> [6]
; vmsrc/apple/cmdjit.pla: 1262: 
; vmsrc/apple/cmdjit.pla: 1263:     params.0 = 2
	!BYTE	$58,$07,$00		; ENTER	7,0
; vmsrc/apple/cmdjit.pla: 1264:     params.1 = 0
; vmsrc/apple/cmdjit.pla: 1265:     params:2 = heap
; vmsrc/apple/cmdjit.pla: 1266:     perr     = syscall($C5, @params)
; vmsrc/apple/cmdjit.pla: 1267:     strbuf   = heap
; vmsrc/apple/cmdjit.pla: 1268:     for i = 0 to 15
	!BYTE	$04			; CN	2
	!BYTE	$74,$00			; SLB	[0]
	!BYTE	$00			; CN	0
	!BYTE	$74,$01			; SLB	[1]
	!BYTE	$6A			; LAW	_D072+0
_F186 	!WORD	_D072+0		
	!BYTE	$76,$02			; SLW	[2]
	!BYTE	$2A,$C5			; CB	197
	!BYTE	$28,$00			; LLA	[0]
	!BYTE	$54			; CALL	_A000
_F187 	!WORD	_A000		
	!BYTE	$78			; SAB	_D035+0
_F188 	!WORD	_D035+0		
	!BYTE	$6A			; LAW	_D072+0
_F189 	!WORD	_D072+0		
	!BYTE	$76,$04			; SLW	[4]
	!BYTE	$1E			; CN	15
	!BYTE	$00			; CN	0
_B106 
	!BYTE	$6C,$06			; DLB	[6]
; vmsrc/apple/cmdjit.pla: 1269:         ^strbuf = ^strbuf & $0F
; vmsrc/apple/cmdjit.pla: 1270:         if ^strbuf
; vmsrc/apple/cmdjit.pla: 1271:             cout('/'); prstr(strbuf); crout()
; vmsrc/apple/cmdjit.pla: 1272:         fin
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$60			; LB
	!BYTE	$3C,$0F			; ANDI	15
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$70			; SB
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$60			; LB
	!BYTE	$4C			; BRFLS	_B108
	!WORD	_B108-*
	!BYTE	$2A,$2F			; CB	47
	!BYTE	$54			; CALL	_A006
_F190 	!WORD	_A006		
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$54			; CALL	_A008
_F191 	!WORD	_A008		
	!BYTE	$54			; CALL	_A005
_F192 	!WORD	_A005		
_B108 
_B109 
; vmsrc/apple/cmdjit.pla: 1273:         strbuf = strbuf + 16
; vmsrc/apple/cmdjit.pla: 1274:     next
	!BYTE	$66,$04			; LLW	[4]
	!BYTE	$38,$10			; ADDI	16
	!BYTE	$76,$04			; SLW	[4]
_B107 
	!BYTE	$A4			; INCBRLE	_B106
	!WORD	_B106-*
_B105 
	!BYTE	$74,$06			; SLB	[6]
	!BYTE	$30			; DROP 
; vmsrc/apple/cmdjit.pla: 1275: end
	!BYTE	$5A,$07			; LEAVE	7
; vmsrc/apple/cmdjit.pla: 1276: def catalog(path)#0
					; path -> [0]
_C018 					; catalog()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1277:     byte refnum
					; refnum -> [2]
; vmsrc/apple/cmdjit.pla: 1278:     byte firstblk
					; firstblk -> [3]
; vmsrc/apple/cmdjit.pla: 1279:     byte entrylen, entriesblk
					; entrylen -> [4]
					; entriesblk -> [5]
; vmsrc/apple/cmdjit.pla: 1280:     byte i, type, len
					; i -> [6]
					; type -> [7]
					; len -> [8]
; vmsrc/apple/cmdjit.pla: 1281:     word entry
					; entry -> [9]
; vmsrc/apple/cmdjit.pla: 1282: 
; vmsrc/apple/cmdjit.pla: 1283:     refnum = open(path)
	!BYTE	$58,$0B,$01		; ENTER	11,1
; vmsrc/apple/cmdjit.pla: 1284:     if perr
; vmsrc/apple/cmdjit.pla: 1285:         return
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$54			; CALL	_C002
_F193 	!WORD	_C002		
	!BYTE	$74,$02			; SLB	[2]
	!BYTE	$68			; LAB	_D035+0
_F194 	!WORD	_D035+0		
	!BYTE	$4C			; BRFLS	_B110
	!WORD	_B110-*
	!BYTE	$5A,$0B			; LEAVE	11
; vmsrc/apple/cmdjit.pla: 1286:     fin
_B110 
_B111 
; vmsrc/apple/cmdjit.pla: 1287:     firstblk = 1
; vmsrc/apple/cmdjit.pla: 1288:     while read(refnum, heap, 512) == 512
	!BYTE	$02			; CN	1
	!BYTE	$74,$03			; SLB	[3]
	!BYTE	$50			; BRNCH	_B114
	!WORD	_B114-*
_B112 
; vmsrc/apple/cmdjit.pla: 1289:         entry = heap + 4
; vmsrc/apple/cmdjit.pla: 1290:         if firstblk
; vmsrc/apple/cmdjit.pla: 1291:             entrylen   = heap->$23
; vmsrc/apple/cmdjit.pla: 1292:             entriesblk = heap->$24 - 1
; vmsrc/apple/cmdjit.pla: 1293:             entry      = entry + entrylen
; vmsrc/apple/cmdjit.pla: 1294:         fin
	!BYTE	$6A			; LAW	_D072+0
_F195 	!WORD	_D072+0		
	!BYTE	$38,$04			; ADDI	4
	!BYTE	$76,$09			; SLW	[9]
	!BYTE	$64,$03			; LLB	[3]
	!BYTE	$4C			; BRFLS	_B115
	!WORD	_B115-*
	!BYTE	$6A			; LAW	_D072+0
_F196 	!WORD	_D072+0		
	!BYTE	$38,$23			; ADDI	35
	!BYTE	$60			; LB
	!BYTE	$74,$04			; SLB	[4]
	!BYTE	$6A			; LAW	_D072+0
_F197 	!WORD	_D072+0		
	!BYTE	$38,$24			; ADDI	36
	!BYTE	$60			; LB
	!BYTE	$8E			; DECR
	!BYTE	$74,$05			; SLB	[5]
	!BYTE	$66,$09			; LLW	[9]
	!BYTE	$B0,$04			; ADDLB	[4]
	!BYTE	$76,$09			; SLW	[9]
_B115 
_B116 
; vmsrc/apple/cmdjit.pla: 1295:         for i = firstblk to entriesblk
	!BYTE	$64,$05			; LLB	[5]
	!BYTE	$64,$03			; LLB	[3]
	!BYTE	$A0			; BRGT	_B117
	!WORD	_B117-*
_B118 
	!BYTE	$6C,$06			; DLB	[6]
; vmsrc/apple/cmdjit.pla: 1296:             if ^entry
; vmsrc/apple/cmdjit.pla: 1297:                 ^entry = ^entry & $0F
; vmsrc/apple/cmdjit.pla: 1298:                 prstr(entry)
; vmsrc/apple/cmdjit.pla: 1299:                 type = ' '
; vmsrc/apple/cmdjit.pla: 1300:                 when entry->$10
	!BYTE	$66,$09			; LLW	[9]
	!BYTE	$60			; LB
	!BYTE	$4C			; BRFLS	_B120
	!WORD	_B120-*
	!BYTE	$66,$09			; LLW	[9]
	!BYTE	$60			; LB
	!BYTE	$3C,$0F			; ANDI	15
	!BYTE	$66,$09			; LLW	[9]
	!BYTE	$70			; SB
	!BYTE	$66,$09			; LLW	[9]
	!BYTE	$54			; CALL	_A008
_F198 	!WORD	_A008		
	!BYTE	$2A,$20			; CB	32
	!BYTE	$74,$07			; SLB	[7]
	!BYTE	$66,$09			; LLW	[9]
	!BYTE	$38,$10			; ADDI	16
	!BYTE	$60			; LB
	!BYTE	$52			; SEL
	!WORD	_B123-*
; vmsrc/apple/cmdjit.pla: 1301:                     is $0F // Is it a directory?
_B124 
; vmsrc/apple/cmdjit.pla: 1302:                         type = '/'
; vmsrc/apple/cmdjit.pla: 1303:                         break
	!BYTE	$2A,$2F			; CB	47
	!BYTE	$74,$07			; SLB	[7]
	!BYTE	$50			; BRNCH	_B122
	!WORD	_B122-*
; vmsrc/apple/cmdjit.pla: 1304:                     is $FF // SYSTEM file
_B125 
; vmsrc/apple/cmdjit.pla: 1305:                         type = '-'
; vmsrc/apple/cmdjit.pla: 1306:                         break
	!BYTE	$2A,$2D			; CB	45
	!BYTE	$74,$07			; SLB	[7]
	!BYTE	$50			; BRNCH	_B122
	!WORD	_B122-*
; vmsrc/apple/cmdjit.pla: 1307:                     is $FE // REL file
_B126 
; vmsrc/apple/cmdjit.pla: 1308:                         type = '+'
; vmsrc/apple/cmdjit.pla: 1309:                 wend
	!BYTE	$2A,$2B			; CB	43
	!BYTE	$74,$07			; SLB	[7]
	!BYTE	$50			; BRNCH	_B122
	!WORD	_B122-*
_B123 
	!BYTE	$03			; CASEBLOCK
	!WORD	$000F
	!WORD	_B124-*
	!WORD	$00FE
	!WORD	_B126-*
	!WORD	$00FF
	!WORD	_B125-*
_B122 
; vmsrc/apple/cmdjit.pla: 1310:                 cout(type)
; vmsrc/apple/cmdjit.pla: 1311:                 for len = ^entry to 18
	!BYTE	$64,$07			; LLB	[7]
	!BYTE	$54			; CALL	_A006
_F199 	!WORD	_A006		
	!BYTE	$2A,$12			; CB	18
	!BYTE	$66,$09			; LLW	[9]
	!BYTE	$60			; LB
	!BYTE	$A0			; BRGT	_B127
	!WORD	_B127-*
_B128 
	!BYTE	$6C,$08			; DLB	[8]
; vmsrc/apple/cmdjit.pla: 1312:                     cout(' ')
; vmsrc/apple/cmdjit.pla: 1313:                 next
	!BYTE	$2A,$20			; CB	32
	!BYTE	$54			; CALL	_A006
_F200 	!WORD	_A006		
_B129 
	!BYTE	$A4			; INCBRLE	_B128
	!WORD	_B128-*
_B127 
	!BYTE	$74,$08			; SLB	[8]
	!BYTE	$30			; DROP 
; vmsrc/apple/cmdjit.pla: 1314:             fin
_B120 
_B121 
; vmsrc/apple/cmdjit.pla: 1315:             entry = entry + entrylen
; vmsrc/apple/cmdjit.pla: 1316:         next
	!BYTE	$66,$09			; LLW	[9]
	!BYTE	$B0,$04			; ADDLB	[4]
	!BYTE	$76,$09			; SLW	[9]
_B119 
	!BYTE	$A4			; INCBRLE	_B118
	!WORD	_B118-*
_B117 
	!BYTE	$74,$06			; SLB	[6]
	!BYTE	$30			; DROP 
; vmsrc/apple/cmdjit.pla: 1317:         firstblk = 0
; vmsrc/apple/cmdjit.pla: 1318:     loop
	!BYTE	$00			; CN	0
	!BYTE	$74,$03			; SLB	[3]
_B114 
	!BYTE	$64,$02			; LLB	[2]
	!BYTE	$6A			; LAW	_D072+0
_F201 	!WORD	_D072+0		
	!BYTE	$2C,$00,$02		; CW	512
	!BYTE	$54			; CALL	_C004
_F202 	!WORD	_C004		
	!BYTE	$2C,$00,$02		; CW	512
	!BYTE	$22			; BREQ	_B112
	!WORD	_B112-*
_B113 
; vmsrc/apple/cmdjit.pla: 1319:     close(refnum)
; vmsrc/apple/cmdjit.pla: 1320:     crout()
; vmsrc/apple/cmdjit.pla: 1321: end
	!BYTE	$64,$02			; LLB	[2]
	!BYTE	$54			; CALL	_C003
_F203 	!WORD	_C003		
	!BYTE	$30			; DROP 
	!BYTE	$54			; CALL	_A005
_F204 	!WORD	_A005		
	!BYTE	$5A,$0B			; LEAVE	11
; vmsrc/apple/cmdjit.pla: 1322: def stripchars(strptr)#1
					; strptr -> [0]
_C019 					; stripchars()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1323:     while ^strptr and ^(strptr + 1) > ' '
	!BYTE	$58,$02,$01		; ENTER	2,1
	!BYTE	$50			; BRNCH	_B132
	!WORD	_B132-*
_B130 
; vmsrc/apple/cmdjit.pla: 1324:         memcpy(strptr + 1, strptr + 2, ^strptr)
; vmsrc/apple/cmdjit.pla: 1325:         ^strptr--
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$8C			; INCR
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$38,$02			; ADDI	2
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$54			; CALL	_A004
_F205 	!WORD	_A004		
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$8E			; DECR
; vmsrc/apple/cmdjit.pla: 1326:     loop
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$70			; SB
_B132 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$AC			; BRAND	_B133
	!WORD	_B133-*
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$8C			; INCR
	!BYTE	$60			; LB
	!BYTE	$2A,$20			; CB	32
	!BYTE	$44			; ISGT
_B133 
	!BYTE	$4E			; BRTRU	_B130
	!WORD	_B130-*
_B131 
; vmsrc/apple/cmdjit.pla: 1327:     return ^strptr
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$5A,$02			; LEAVE	2
; vmsrc/apple/cmdjit.pla: 1328: end
; vmsrc/apple/cmdjit.pla: 1329: def stripspaces(strptr)#0
					; strptr -> [0]
_C020 					; stripspaces()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1330:     while ^strptr and ^(strptr + ^strptr) <= ' '
	!BYTE	$58,$02,$01		; ENTER	2,1
	!BYTE	$50			; BRNCH	_B136
	!WORD	_B136-*
_B134 
; vmsrc/apple/cmdjit.pla: 1331:         ^strptr--
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$8E			; DECR
; vmsrc/apple/cmdjit.pla: 1332:     loop
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$70			; SB
_B136 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$AC			; BRAND	_B137
	!WORD	_B137-*
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$34			; DUP
	!BYTE	$60			; LB
	!BYTE	$82			; ADD 
	!BYTE	$60			; LB
	!BYTE	$2A,$20			; CB	32
	!BYTE	$4A			; ISLE
_B137 
	!BYTE	$4E			; BRTRU	_B134
	!WORD	_B134-*
_B135 
; vmsrc/apple/cmdjit.pla: 1333:     while ^strptr and ^(strptr + 1) <= ' '
	!BYTE	$50			; BRNCH	_B140
	!WORD	_B140-*
_B138 
; vmsrc/apple/cmdjit.pla: 1334:         memcpy(strptr + 1, strptr + 2, ^strptr)
; vmsrc/apple/cmdjit.pla: 1335:         ^strptr--
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$8C			; INCR
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$38,$02			; ADDI	2
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$54			; CALL	_A004
_F206 	!WORD	_A004		
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$8E			; DECR
; vmsrc/apple/cmdjit.pla: 1336:     loop
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$70			; SB
_B140 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$AC			; BRAND	_B141
	!WORD	_B141-*
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$8C			; INCR
	!BYTE	$60			; LB
	!BYTE	$2A,$20			; CB	32
	!BYTE	$4A			; ISLE
_B141 
	!BYTE	$4E			; BRTRU	_B138
	!WORD	_B138-*
_B139 
; vmsrc/apple/cmdjit.pla: 1337: end
	!BYTE	$5A,$02			; LEAVE	2
; vmsrc/apple/cmdjit.pla: 1338: def striptrail(strptr)#1
					; strptr -> [0]
_C021 					; striptrail()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1339:     byte i
					; i -> [2]
; vmsrc/apple/cmdjit.pla: 1340: 
; vmsrc/apple/cmdjit.pla: 1341:     for i = 1 to ^strptr
	!BYTE	$58,$03,$01		; ENTER	3,1
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$02			; CN	1
	!BYTE	$A0			; BRGT	_B142
	!WORD	_B142-*
_B143 
	!BYTE	$6C,$02			; DLB	[2]
; vmsrc/apple/cmdjit.pla: 1342:         if ^(strptr + i) <= ' '
; vmsrc/apple/cmdjit.pla: 1343:             ^strptr = i - 1
; vmsrc/apple/cmdjit.pla: 1344:             break
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$B0,$02			; ADDLB	[2]
	!BYTE	$60			; LB
	!BYTE	$2A,$20			; CB	32
	!BYTE	$4A			; ISLE
	!BYTE	$4C			; BRFLS	_B145
	!WORD	_B145-*
	!BYTE	$64,$02			; LLB	[2]
	!BYTE	$8E			; DECR
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$70			; SB
	!BYTE	$50			; BRNCH	_B142
	!WORD	_B142-*
; vmsrc/apple/cmdjit.pla: 1345:         fin
_B145 
_B146 
; vmsrc/apple/cmdjit.pla: 1346:     next
_B144 
	!BYTE	$A4			; INCBRLE	_B143
	!WORD	_B143-*
_B142 
	!BYTE	$74,$02			; SLB	[2]
	!BYTE	$30			; DROP 
; vmsrc/apple/cmdjit.pla: 1347:     return strptr
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$5A,$03			; LEAVE	3
; vmsrc/apple/cmdjit.pla: 1348: end
; vmsrc/apple/cmdjit.pla: 1349: def parsecmd(strptr)#1
					; strptr -> [0]
_C022 					; parsecmd()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1350:     byte cmd
					; cmd -> [2]
; vmsrc/apple/cmdjit.pla: 1351: 
; vmsrc/apple/cmdjit.pla: 1352:     cmd = 0
	!BYTE	$58,$03,$01		; ENTER	3,1
; vmsrc/apple/cmdjit.pla: 1353:     stripspaces(strptr)
; vmsrc/apple/cmdjit.pla: 1354:     if ^strptr
; vmsrc/apple/cmdjit.pla: 1355:         cmd = ^(strptr + 1)
; vmsrc/apple/cmdjit.pla: 1356:         memcpy(strptr + 1, strptr + 2, ^strptr)
; vmsrc/apple/cmdjit.pla: 1357:         ^strptr--
	!BYTE	$00			; CN	0
	!BYTE	$74,$02			; SLB	[2]
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$54			; CALL	_C020
_F207 	!WORD	_C020		
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$4C			; BRFLS	_B147
	!WORD	_B147-*
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$8C			; INCR
	!BYTE	$60			; LB
	!BYTE	$74,$02			; SLB	[2]
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$8C			; INCR
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$38,$02			; ADDI	2
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$54			; CALL	_A004
_F208 	!WORD	_A004		
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$8E			; DECR
; vmsrc/apple/cmdjit.pla: 1358:     fin
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$70			; SB
_B147 
_B148 
; vmsrc/apple/cmdjit.pla: 1359:     stripspaces(strptr)
; vmsrc/apple/cmdjit.pla: 1360:     return cmd
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$54			; CALL	_C020
_F209 	!WORD	_C020		
	!BYTE	$64,$02			; LLB	[2]
	!BYTE	$5A,$03			; LEAVE	3
; vmsrc/apple/cmdjit.pla: 1361: end
; vmsrc/apple/cmdjit.pla: 1362: def resetmemfiles#0
_C023 					; resetmemfiles()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1363:     byte terr
					; terr -> [0]
; vmsrc/apple/cmdjit.pla: 1364: 
; vmsrc/apple/cmdjit.pla: 1365:     terr = perr // Save perr
	!BYTE	$58,$01,$00		; ENTER	1,0
; vmsrc/apple/cmdjit.pla: 1366:     //
; vmsrc/apple/cmdjit.pla: 1367:     // Close all files
; vmsrc/apple/cmdjit.pla: 1368:     //
; vmsrc/apple/cmdjit.pla: 1369:     ^$BF94 = 0
; vmsrc/apple/cmdjit.pla: 1370:     close(0)
; vmsrc/apple/cmdjit.pla: 1371:     //
; vmsrc/apple/cmdjit.pla: 1372:     // Set memory bitmap
; vmsrc/apple/cmdjit.pla: 1373:     //
; vmsrc/apple/cmdjit.pla: 1374:     memset($BF58, 0, 24)
; vmsrc/apple/cmdjit.pla: 1375:     ^$BF58 = $CF
; vmsrc/apple/cmdjit.pla: 1376:     ^$BF6F = $01
; vmsrc/apple/cmdjit.pla: 1377:     perr = terr // Restore perr
; vmsrc/apple/cmdjit.pla: 1378: end
	!BYTE	$68			; LAB	_D035+0
_F210 	!WORD	_D035+0		
	!BYTE	$74,$00			; SLB	[0]
	!BYTE	$00			; CN	0
	!BYTE	$78,$94,$BF		; SAB	49044
	!BYTE	$00			; CN	0
	!BYTE	$54			; CALL	_C003
_F211 	!WORD	_C003		
	!BYTE	$30			; DROP 
	!BYTE	$2C,$58,$BF		; CW	48984
	!BYTE	$00			; CN	0
	!BYTE	$2A,$18			; CB	24
	!BYTE	$54			; CALL	_A003
_F212 	!WORD	_A003		
	!BYTE	$2A,$CF			; CB	207
	!BYTE	$78,$58,$BF		; SAB	48984
	!BYTE	$02			; CN	1
	!BYTE	$78,$6F,$BF		; SAB	49007
	!BYTE	$64,$00			; LLB	[0]
	!BYTE	$78			; SAB	_D035+0
_F213 	!WORD	_D035+0		
	!BYTE	$5A,$01			; LEAVE	1
; vmsrc/apple/cmdjit.pla: 1379: def execsys(sysfile)#0
					; sysfile -> [0]
_P031 					; execsys(sysfile)#0()
_C024 					; execsys()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1380:     byte refnum
					; refnum -> [2]
; vmsrc/apple/cmdjit.pla: 1381:     word len
					; len -> [3]
; vmsrc/apple/cmdjit.pla: 1382: 
; vmsrc/apple/cmdjit.pla: 1383:     if ^sysfile
	!BYTE	$58,$05,$01		; ENTER	5,1
; vmsrc/apple/cmdjit.pla: 1384:         strcpy($280, sysfile)
; vmsrc/apple/cmdjit.pla: 1385:         striptrail(sysfile)
; vmsrc/apple/cmdjit.pla: 1386:         refnum = open(sysfile)
; vmsrc/apple/cmdjit.pla: 1387:         if refnum
; vmsrc/apple/cmdjit.pla: 1388:             len = read(refnum, $2000, $FFFF)
; vmsrc/apple/cmdjit.pla: 1389:             resetmemfiles
; vmsrc/apple/cmdjit.pla: 1390:             if len
; vmsrc/apple/cmdjit.pla: 1391:                 strcpy(sysfile, $280)
; vmsrc/apple/cmdjit.pla: 1392:                 if stripchars(sysfile) and ^$2000 == $4C and *$2003 == $EEEE
; vmsrc/apple/cmdjit.pla: 1393:                     stripspaces(sysfile)
; vmsrc/apple/cmdjit.pla: 1394:                     if ^$2005 >= ^sysfile + 1
; vmsrc/apple/cmdjit.pla: 1395:                         strcpy($2006, sysfile)
; vmsrc/apple/cmdjit.pla: 1396:                     fin
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$4C			; BRFLS	_B149
	!WORD	_B149-*
	!BYTE	$2C,$80,$02		; CW	640
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$54			; CALL	_C012
_F214 	!WORD	_C012		
	!BYTE	$30			; DROP 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$54			; CALL	_C021
_F215 	!WORD	_C021		
	!BYTE	$30			; DROP 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$54			; CALL	_C002
_F216 	!WORD	_C002		
	!BYTE	$6C,$02			; DLB	[2]
	!BYTE	$4C			; BRFLS	_B151
	!WORD	_B151-*
	!BYTE	$64,$02			; LLB	[2]
	!BYTE	$2C,$00,$20		; CW	8192
	!BYTE	$20			; MINUS ONE
	!BYTE	$54			; CALL	_C004
_F217 	!WORD	_C004		
	!BYTE	$76,$03			; SLW	[3]
	!BYTE	$54			; CALL	_C023
_F218 	!WORD	_C023		
	!BYTE	$66,$03			; LLW	[3]
	!BYTE	$4C			; BRFLS	_B153
	!WORD	_B153-*
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$2C,$80,$02		; CW	640
	!BYTE	$54			; CALL	_C012
_F219 	!WORD	_C012		
	!BYTE	$30			; DROP 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$54			; CALL	_C019
_F220 	!WORD	_C019		
	!BYTE	$AC			; BRAND	_B155
	!WORD	_B155-*
	!BYTE	$68,$00,$20		; LAB	8192
	!BYTE	$2A,$4C			; CB	76
	!BYTE	$40			; ISEQ
	!BYTE	$AC			; BRAND	_B156
	!WORD	_B156-*
	!BYTE	$6A,$03,$20		; LAW	8195
	!BYTE	$2C,$EE,$EE		; CW	61166
	!BYTE	$40			; ISEQ
_B156 
_B155 
	!BYTE	$4C			; BRFLS	_B157
	!WORD	_B157-*
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$54			; CALL	_C020
_F221 	!WORD	_C020		
	!BYTE	$68,$05,$20		; LAB	8197
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$8C			; INCR
	!BYTE	$48			; ISGE
	!BYTE	$4C			; BRFLS	_B159
	!WORD	_B159-*
	!BYTE	$2C,$06,$20		; CW	8198
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$54			; CALL	_C012
_F222 	!WORD	_C012		
	!BYTE	$30			; DROP 
_B159 
_B160 
; vmsrc/apple/cmdjit.pla: 1397:                 fin
_B157 
_B158 
; vmsrc/apple/cmdjit.pla: 1398:                 striptrail($280)
; vmsrc/apple/cmdjit.pla: 1399:                 exec()
; vmsrc/apple/cmdjit.pla: 1400:             fin
	!BYTE	$2C,$80,$02		; CW	640
	!BYTE	$54			; CALL	_C021
_F223 	!WORD	_C021		
	!BYTE	$30			; DROP 
	!BYTE	$54			; CALL	_A002
_F224 	!WORD	_A002		
_B153 
_B154 
; vmsrc/apple/cmdjit.pla: 1401:         fin
_B151 
_B152 
; vmsrc/apple/cmdjit.pla: 1402:     fin
_B149 
_B150 
; vmsrc/apple/cmdjit.pla: 1403: end
	!BYTE	$5A,$05			; LEAVE	5
; vmsrc/apple/cmdjit.pla: 1404: def execmod(modfile)#1
					; modfile -> [0]
_P026 					; execmod(modfile)#1()
_C025 					; execmod()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1405:     byte moddci[63]
					; moddci -> [2]
; vmsrc/apple/cmdjit.pla: 1406:     word keep, saveheap, savexheap, savesym, saveflags
					; keep -> [65]
					; saveheap -> [67]
					; savexheap -> [69]
					; savesym -> [71]
					; saveflags -> [73]
; vmsrc/apple/cmdjit.pla: 1407: 
; vmsrc/apple/cmdjit.pla: 1408:     perr = 1
	!BYTE	$58,$4B,$01		; ENTER	75,1
; vmsrc/apple/cmdjit.pla: 1409:     if stodci(modfile, @moddci)
; vmsrc/apple/cmdjit.pla: 1410:         saveheap  = heap
; vmsrc/apple/cmdjit.pla: 1411:         savexheap = xheap
; vmsrc/apple/cmdjit.pla: 1412:         savesym   = lastsym
; vmsrc/apple/cmdjit.pla: 1413:         saveflags = systemflags
; vmsrc/apple/cmdjit.pla: 1414:         keep = loadmod(@moddci)
; vmsrc/apple/cmdjit.pla: 1415:         if keep < modkeep
; vmsrc/apple/cmdjit.pla: 1416:             if not (keep & modflagkeep)
; vmsrc/apple/cmdjit.pla: 1417:                 systemflags = saveflags
; vmsrc/apple/cmdjit.pla: 1418:             fin
	!BYTE	$02			; CN	1
	!BYTE	$78			; SAB	_D035+0
_F225 	!WORD	_D035+0		
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$28,$02			; LLA	[2]
	!BYTE	$54			; CALL	_A019
_F226 	!WORD	_A019		
	!BYTE	$4C			; BRFLS	_B161
	!WORD	_B161-*
	!BYTE	$6A			; LAW	_D072+0
_F227 	!WORD	_D072+0		
	!BYTE	$76,$43			; SLW	[67]
	!BYTE	$6A			; LAW	_D073+0
_F228 	!WORD	_D073+0		
	!BYTE	$76,$45			; SLW	[69]
	!BYTE	$6A			; LAW	_D075+0
_F229 	!WORD	_D075+0		
	!BYTE	$76,$47			; SLW	[71]
	!BYTE	$6A			; LAW	_D038+0
_F230 	!WORD	_D038+0		
	!BYTE	$76,$49			; SLW	[73]
	!BYTE	$28,$02			; LLA	[2]
	!BYTE	$54			; CALL	_C016
_F231 	!WORD	_C016		
	!BYTE	$6E,$41			; DLW	[65]
	!BYTE	$2C,$00,$20		; CW	8192
	!BYTE	$46			; ISLT
	!BYTE	$4C			; BRFLS	_B163
	!WORD	_B163-*
	!BYTE	$66,$41			; LLW	[65]
	!BYTE	$2C,$00,$10		; CW	4096
	!BYTE	$94			; AND 
	!BYTE	$4E			; BRTRU	_B165
	!WORD	_B165-*
	!BYTE	$66,$49			; LLW	[73]
	!BYTE	$7A			; SAW	_D038+0
_F232 	!WORD	_D038+0		
_B165 
_B166 
; vmsrc/apple/cmdjit.pla: 1419:             xheap    = savexheap
; vmsrc/apple/cmdjit.pla: 1420:             heap     = saveheap
; vmsrc/apple/cmdjit.pla: 1421:             lastsym  = savesym
; vmsrc/apple/cmdjit.pla: 1422:             ^lastsym = 0
; vmsrc/apple/cmdjit.pla: 1423:         fin
	!BYTE	$66,$45			; LLW	[69]
	!BYTE	$7A			; SAW	_D073+0
_F233 	!WORD	_D073+0		
	!BYTE	$66,$43			; LLW	[67]
	!BYTE	$7A			; SAW	_D072+0
_F234 	!WORD	_D072+0		
	!BYTE	$66,$47			; LLW	[71]
	!BYTE	$7A			; SAW	_D075+0
_F235 	!WORD	_D075+0		
	!BYTE	$00			; CN	0
	!BYTE	$6A			; LAW	_D075+0
_F236 	!WORD	_D075+0		
	!BYTE	$70			; SB
_B163 
_B164 
; vmsrc/apple/cmdjit.pla: 1424:     fin
_B161 
_B162 
; vmsrc/apple/cmdjit.pla: 1425:     return -perr
	!BYTE	$68			; LAB	_D035+0
_F237 	!WORD	_D035+0		
	!BYTE	$90			; NEG
	!BYTE	$5A,$4B			; LEAVE	75
; vmsrc/apple/cmdjit.pla: 1426: end
; vmsrc/apple/cmdjit.pla: 1427: //
; vmsrc/apple/cmdjit.pla: 1428: // Command line processor
; vmsrc/apple/cmdjit.pla: 1429: //
; vmsrc/apple/cmdjit.pla: 1430: def docmds#0
_C026 					; docmds()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1431:     word prefix
					; prefix -> [0]
; vmsrc/apple/cmdjit.pla: 1432:     byte ref
					; ref -> [2]
; vmsrc/apple/cmdjit.pla: 1433: 
; vmsrc/apple/cmdjit.pla: 1434:     loadmod(jitmod)  // Cannot do this in init code - it will overwrite it!
	!BYTE	$58,$03,$00		; ENTER	3,0
; vmsrc/apple/cmdjit.pla: 1435:     xheap    = $0200 // Reset heap to point at low memory
; vmsrc/apple/cmdjit.pla: 1436:     xheaptop = $A000 // Top below JITC ($C000 - 8K)
; vmsrc/apple/cmdjit.pla: 1437:     prefix   = pfxop(heap, GET_PFX)
; vmsrc/apple/cmdjit.pla: 1438:     strcpy(getlnbuf, @cmdln)
; vmsrc/apple/cmdjit.pla: 1439:     repeat
	!BYTE	$2C,$F0,$02		; CW	752
	!BYTE	$54			; CALL	_C016
_F238 	!WORD	_C016		
	!BYTE	$30			; DROP 
	!BYTE	$2C,$00,$02		; CW	512
	!BYTE	$7A			; SAW	_D073+0
_F239 	!WORD	_D073+0		
	!BYTE	$2C,$00,$A0		; CW	40960
	!BYTE	$7A			; SAW	_D074+0
_F240 	!WORD	_D074+0		
	!BYTE	$6A			; LAW	_D072+0
_F241 	!WORD	_D072+0		
	!BYTE	$2A,$C7			; CB	199
	!BYTE	$54			; CALL	_C001
_F242 	!WORD	_C001		
	!BYTE	$76,$00			; SLW	[0]
	!BYTE	$2C,$FF,$01		; CW	511
	!BYTE	$26			; LA	_D039+0
_F243 	!WORD	_D039+0		
	!BYTE	$54			; CALL	_C012
_F244 	!WORD	_C012		
	!BYTE	$30			; DROP 
_B168 
; vmsrc/apple/cmdjit.pla: 1440:         if ^getlnbuf
; vmsrc/apple/cmdjit.pla: 1441:             strcpy(@cmdln, getlnbuf)
; vmsrc/apple/cmdjit.pla: 1442:             when toupper(parsecmd(getlnbuf))
	!BYTE	$68,$FF,$01		; LAB	511
	!BYTE	$4C			; BRFLS	_B170
	!WORD	_B170-*
	!BYTE	$26			; LA	_D039+0
_F245 	!WORD	_D039+0		
	!BYTE	$2C,$FF,$01		; CW	511
	!BYTE	$54			; CALL	_C012
_F246 	!WORD	_C012		
	!BYTE	$30			; DROP 
	!BYTE	$2C,$FF,$01		; CW	511
	!BYTE	$54			; CALL	_C022
_F247 	!WORD	_C022		
	!BYTE	$54			; CALL	_A020
_F248 	!WORD	_A020		
	!BYTE	$52			; SEL
	!WORD	_B173-*
; vmsrc/apple/cmdjit.pla: 1443:                 is 'C'
_B174 
; vmsrc/apple/cmdjit.pla: 1444:                     catalog(^getlnbuf ?? getlnbuf :: prefix)
; vmsrc/apple/cmdjit.pla: 1445:                     break
	!BYTE	$68,$FF,$01		; LAB	511
	!BYTE	$4C			; BRFLS	_B177
	!WORD	_B177-*
	!BYTE	$2C,$FF,$01		; CW	511
	!BYTE	$50			; BRNCH	_B178
	!WORD	_B178-*
_B177 
	!BYTE	$66,$00			; LLW	[0]
_B178 
	!BYTE	$54			; CALL	_C018
_F249 	!WORD	_C018		
	!BYTE	$50			; BRNCH	_B172
	!WORD	_B172-*
; vmsrc/apple/cmdjit.pla: 1446:                 is 'P'
_B179 
; vmsrc/apple/cmdjit.pla: 1447:                     pfxop(getlnbuf, SET_PFX)
; vmsrc/apple/cmdjit.pla: 1448:                     break
	!BYTE	$2C,$FF,$01		; CW	511
	!BYTE	$2A,$C6			; CB	198
	!BYTE	$54			; CALL	_C001
_F250 	!WORD	_C001		
	!BYTE	$30			; DROP 
	!BYTE	$50			; BRNCH	_B172
	!WORD	_B172-*
; vmsrc/apple/cmdjit.pla: 1449:                 is '/'
_B180 
; vmsrc/apple/cmdjit.pla: 1450:                     repeat
_B182 
; vmsrc/apple/cmdjit.pla: 1451:                         ^prefix--
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$8E			; DECR
; vmsrc/apple/cmdjit.pla: 1452:                     until ^(prefix + ^prefix) == '/'
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$70			; SB
_B183 
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$34			; DUP
	!BYTE	$60			; LB
	!BYTE	$82			; ADD 
	!BYTE	$60			; LB
	!BYTE	$2A,$2F			; CB	47
	!BYTE	$24			; BRNE	_B182
	!WORD	_B182-*
_B181 
; vmsrc/apple/cmdjit.pla: 1453:                     if ^prefix > 1
; vmsrc/apple/cmdjit.pla: 1454:                         pfxop(prefix, SET_PFX)
; vmsrc/apple/cmdjit.pla: 1455:                     fin
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$60			; LB
	!BYTE	$02			; CN	1
	!BYTE	$44			; ISGT
	!BYTE	$4C			; BRFLS	_B184
	!WORD	_B184-*
	!BYTE	$66,$00			; LLW	[0]
	!BYTE	$2A,$C6			; CB	198
	!BYTE	$54			; CALL	_C001
_F251 	!WORD	_C001		
	!BYTE	$30			; DROP 
_B184 
_B185 
; vmsrc/apple/cmdjit.pla: 1456:                     break
	!BYTE	$50			; BRNCH	_B172
	!WORD	_B172-*
; vmsrc/apple/cmdjit.pla: 1457:                 is 'V'
_B186 
; vmsrc/apple/cmdjit.pla: 1458:                     volumes()
; vmsrc/apple/cmdjit.pla: 1459:                     break
	!BYTE	$54			; CALL	_C017
_F252 	!WORD	_C017		
	!BYTE	$50			; BRNCH	_B172
	!WORD	_B172-*
; vmsrc/apple/cmdjit.pla: 1460:                 is '.'
_B187 
; vmsrc/apple/cmdjit.pla: 1461:                     ref = open(getlnbuf)
; vmsrc/apple/cmdjit.pla: 1462:                     if ref
; vmsrc/apple/cmdjit.pla: 1463:                         cmdln = read(ref, @cmdln+1, 81)
; vmsrc/apple/cmdjit.pla: 1464:                         close(0)
; vmsrc/apple/cmdjit.pla: 1465:                         prstr(strcpy(getlnbuf, @cmdln)); crout
; vmsrc/apple/cmdjit.pla: 1466:                         continue
	!BYTE	$2C,$FF,$01		; CW	511
	!BYTE	$54			; CALL	_C002
_F253 	!WORD	_C002		
	!BYTE	$6C,$02			; DLB	[2]
	!BYTE	$4C			; BRFLS	_B188
	!WORD	_B188-*
	!BYTE	$64,$02			; LLB	[2]
	!BYTE	$26			; LA	_D039+1
_F254 	!WORD	_D039+1		
	!BYTE	$2A,$51			; CB	81
	!BYTE	$54			; CALL	_C004
_F255 	!WORD	_C004		
	!BYTE	$78			; SAB	_D039+0
_F256 	!WORD	_D039+0		
	!BYTE	$00			; CN	0
	!BYTE	$54			; CALL	_C003
_F257 	!WORD	_C003		
	!BYTE	$30			; DROP 
	!BYTE	$2C,$FF,$01		; CW	511
	!BYTE	$26			; LA	_D039+0
_F258 	!WORD	_D039+0		
	!BYTE	$54			; CALL	_C012
_F259 	!WORD	_C012		
	!BYTE	$54			; CALL	_A008
_F260 	!WORD	_A008		
	!BYTE	$54			; CALL	_A005
_F261 	!WORD	_A005		
	!BYTE	$50			; BRNCH	_B169
	!WORD	_B169-*
; vmsrc/apple/cmdjit.pla: 1467:                     fin
_B188 
_B189 
; vmsrc/apple/cmdjit.pla: 1468:                     break
	!BYTE	$50			; BRNCH	_B172
	!WORD	_B172-*
; vmsrc/apple/cmdjit.pla: 1469:                 is '-'
_B190 
; vmsrc/apple/cmdjit.pla: 1470:                     execsys(getlnbuf)
; vmsrc/apple/cmdjit.pla: 1471:                     break
	!BYTE	$2C,$FF,$01		; CW	511
	!BYTE	$54			; CALL	_C024
_F262 	!WORD	_C024		
	!BYTE	$50			; BRNCH	_B172
	!WORD	_B172-*
; vmsrc/apple/cmdjit.pla: 1472:                 is '+'
_B191 
; vmsrc/apple/cmdjit.pla: 1473:                     //
; vmsrc/apple/cmdjit.pla: 1474:                     // Set JIT code pointer
; vmsrc/apple/cmdjit.pla: 1475:                     //
; vmsrc/apple/cmdjit.pla: 1476:                     *jitcodeptr = jitcbuf
; vmsrc/apple/cmdjit.pla: 1477:                     //
; vmsrc/apple/cmdjit.pla: 1478:                     // Exec module
; vmsrc/apple/cmdjit.pla: 1479:                     //
; vmsrc/apple/cmdjit.pla: 1480:                     execmod(striptrail(getlnbuf))
; vmsrc/apple/cmdjit.pla: 1481:                     //
; vmsrc/apple/cmdjit.pla: 1482:                     // Clean up
; vmsrc/apple/cmdjit.pla: 1483:                     //
; vmsrc/apple/cmdjit.pla: 1484:                     resetmemfiles
; vmsrc/apple/cmdjit.pla: 1485:                     break
	!BYTE	$2C,$00,$AF		; CW	44800
	!BYTE	$7A,$E4,$03		; SAW	996
	!BYTE	$2C,$FF,$01		; CW	511
	!BYTE	$54			; CALL	_C021
_F263 	!WORD	_C021		
	!BYTE	$54			; CALL	_C025
_F264 	!WORD	_C025		
	!BYTE	$30			; DROP 
	!BYTE	$54			; CALL	_C023
_F265 	!WORD	_C023		
	!BYTE	$50			; BRNCH	_B172
	!WORD	_B172-*
; vmsrc/apple/cmdjit.pla: 1486:                 otherwise
_B173 
	!BYTE	$07			; CASEBLOCK
	!WORD	$002B
	!WORD	_B191-*
	!WORD	$002D
	!WORD	_B190-*
	!WORD	$002E
	!WORD	_B187-*
	!WORD	$002F
	!WORD	_B180-*
	!WORD	$0043
	!WORD	_B174-*
	!WORD	$0050
	!WORD	_B179-*
	!WORD	$0056
	!WORD	_B186-*
; vmsrc/apple/cmdjit.pla: 1487:                     cout('?')
; vmsrc/apple/cmdjit.pla: 1488:             wend
	!BYTE	$2A,$3F			; CB	63
	!BYTE	$54			; CALL	_A006
_F266 	!WORD	_A006		
_B172 
; vmsrc/apple/cmdjit.pla: 1489:             if perr
; vmsrc/apple/cmdjit.pla: 1490:                 prstr("ERR:$")
	!BYTE	$68			; LAB	_D035+0
_F267 	!WORD	_D035+0		
	!BYTE	$4C			; BRFLS	_B192
	!WORD	_B192-*
	!BYTE	$2E			; CS
	!BYTE	$05
	!BYTE	$45,$52,$52,$3A,$24
	!BYTE	$54			; CALL	_A008
_F268 	!WORD	_A008		
; vmsrc/apple/cmdjit.pla: 1491:                 prbyte(perr)
; vmsrc/apple/cmdjit.pla: 1492:                 crout()
; vmsrc/apple/cmdjit.pla: 1493:             fin
	!BYTE	$68			; LAB	_D035+0
_F269 	!WORD	_D035+0		
	!BYTE	$54			; CALL	_A010
_F270 	!WORD	_A010		
	!BYTE	$54			; CALL	_A005
_F271 	!WORD	_A005		
_B192 
_B193 
; vmsrc/apple/cmdjit.pla: 1494:         fin
_B170 
_B171 
; vmsrc/apple/cmdjit.pla: 1495:         prefix = pfxop(heap, GET_PFX)
; vmsrc/apple/cmdjit.pla: 1496:         prstr(prefix)
; vmsrc/apple/cmdjit.pla: 1497:         rdstr($BA)
; vmsrc/apple/cmdjit.pla: 1498:     until 0
	!BYTE	$6A			; LAW	_D072+0
_F272 	!WORD	_D072+0		
	!BYTE	$2A,$C7			; CB	199
	!BYTE	$54			; CALL	_C001
_F273 	!WORD	_C001		
	!BYTE	$6E,$00			; DLW	[0]
	!BYTE	$54			; CALL	_A008
_F274 	!WORD	_A008		
	!BYTE	$2A,$BA			; CB	186
	!BYTE	$54			; CALL	_A011
_F275 	!WORD	_A011		
	!BYTE	$30			; DROP 
_B169 
	!BYTE	$50			; BRNCH	_B168
	!WORD	_B168-*
_B167 
; vmsrc/apple/cmdjit.pla: 1499: end
	!BYTE	$5A,$03			; LEAVE	3
; vmsrc/apple/cmdjit.pla: 1500: //
; vmsrc/apple/cmdjit.pla: 1501: // Dummy definition to get free heap
; vmsrc/apple/cmdjit.pla: 1502: //
; vmsrc/apple/cmdjit.pla: 1503: def lastdef#0
_C027 					; lastdef()
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1504: end
	!BYTE	$5C			; RET
; vmsrc/apple/cmdjit.pla: 1505: //
; vmsrc/apple/cmdjit.pla: 1506: // Get heap start.
; vmsrc/apple/cmdjit.pla: 1507: //
; vmsrc/apple/cmdjit.pla: 1508: heap = @lastdef
_INIT 
	JSR	INTERP
; vmsrc/apple/cmdjit.pla: 1509: //
; vmsrc/apple/cmdjit.pla: 1510: // Print PLASMA version
; vmsrc/apple/cmdjit.pla: 1511: //
; vmsrc/apple/cmdjit.pla: 1512: if  ^MACHID & MACHID_80COL
; vmsrc/apple/cmdjit.pla: 1513:     systemflags = systemflags | vid80col | restxt1 | resxtxt1
; vmsrc/apple/cmdjit.pla: 1514:     *CSW = $C300
; vmsrc/apple/cmdjit.pla: 1515:     cout(12)
; vmsrc/apple/cmdjit.pla: 1516: fin
	!BYTE	$26			; LA	_C027+0
_F276 	!WORD	_C027+0		
	!BYTE	$7A			; SAW	_D072+0
_F277 	!WORD	_D072+0		
	!BYTE	$68,$98,$BF		; LAB	49048
	!BYTE	$3C,$02			; ANDI	2
	!BYTE	$4C			; BRFLS	_B194
	!WORD	_B194-*
	!BYTE	$6A			; LAW	_D038+0
_F278 	!WORD	_D038+0		
	!BYTE	$2C,$00,$08		; CW	2048
	!BYTE	$96			; OR 
	!BYTE	$3E,$01			; ORI	1
	!BYTE	$3E,$04			; ORI	4
	!BYTE	$7A			; SAW	_D038+0
_F279 	!WORD	_D038+0		
	!BYTE	$2C,$00,$C3		; CW	49920
	!BYTE	$7A,$36,$00		; SAW	54
	!BYTE	$18			; CN	12
	!BYTE	$54			; CALL	_A006
_F280 	!WORD	_A006		
_B194 
_B195 
; vmsrc/apple/cmdjit.pla: 1517: prstr("PLEIADES 128K VM v2.21\n")
	!BYTE	$2E			; CS
	!BYTE	$17
	!BYTE	$50,$4C,$45,$49,$41,$44,$45,$53
	!BYTE	$20,$31,$32,$38,$4B,$20,$56,$4D
	!BYTE	$20,$76,$32,$2E,$32,$31,$0D
	!BYTE	$54			; CALL	_A008
_F281 	!WORD	_A008		
; vmsrc/apple/cmdjit.pla: 1518: //
; vmsrc/apple/cmdjit.pla: 1519: // Init symbol table.
; vmsrc/apple/cmdjit.pla: 1520: //
; vmsrc/apple/cmdjit.pla: 1521: while *sysmodsym
	!BYTE	$50			; BRNCH	_B198
	!WORD	_B198-*
_B196 
; vmsrc/apple/cmdjit.pla: 1522:     stodci(sysmodsym=>0, heap)
; vmsrc/apple/cmdjit.pla: 1523:     addsym(heap, sysmodsym=>2)
; vmsrc/apple/cmdjit.pla: 1524:     sysmodsym = sysmodsym + 4
; vmsrc/apple/cmdjit.pla: 1525: loop
	!BYTE	$6A			; LAW	_D071+0
_F282 	!WORD	_D071+0		
	!BYTE	$62			; LW
	!BYTE	$6A			; LAW	_D072+0
_F283 	!WORD	_D072+0		
	!BYTE	$54			; CALL	_A019
_F284 	!WORD	_A019		
	!BYTE	$30			; DROP 
	!BYTE	$6A			; LAW	_D072+0
_F285 	!WORD	_D072+0		
	!BYTE	$6A			; LAW	_D071+0
_F286 	!WORD	_D071+0		
	!BYTE	$38,$02			; ADDI	2
	!BYTE	$62			; LW
	!BYTE	$54			; CALL	_C011
_F287 	!WORD	_C011		
	!BYTE	$6A			; LAW	_D071+0
_F288 	!WORD	_D071+0		
	!BYTE	$38,$04			; ADDI	4
	!BYTE	$7A			; SAW	_D071+0
_F289 	!WORD	_D071+0		
_B198 
	!BYTE	$6A			; LAW	_D071+0
_F290 	!WORD	_D071+0		
	!BYTE	$62			; LW
	!BYTE	$4E			; BRTRU	_B196
	!WORD	_B196-*
_B197 
; vmsrc/apple/cmdjit.pla: 1526: //
; vmsrc/apple/cmdjit.pla: 1527: // Set system path
; vmsrc/apple/cmdjit.pla: 1528: //
; vmsrc/apple/cmdjit.pla: 1529: strcat(strcpy(@sysmods, $300), "SYS/") // This is the path to CMD
	!BYTE	$26			; LA	_D070+0
_F291 	!WORD	_D070+0		
	!BYTE	$2C,$00,$03		; CW	768
	!BYTE	$54			; CALL	_C012
_F292 	!WORD	_C012		
	!BYTE	$2E			; CS
	!BYTE	$04
	!BYTE	$53,$59,$53,$2F
	!BYTE	$54			; CALL	_C013
_F293 	!WORD	_C013		
	!BYTE	$30			; DROP 
; vmsrc/apple/cmdjit.pla: 1530: syspath  = @sysmods // Update external interface table
; vmsrc/apple/cmdjit.pla: 1531: syscmdln = @cmdln
; vmsrc/apple/cmdjit.pla: 1532: //
; vmsrc/apple/cmdjit.pla: 1533: // Try to load autorun.
; vmsrc/apple/cmdjit.pla: 1534: //
; vmsrc/apple/cmdjit.pla: 1535: resetmemfiles
; vmsrc/apple/cmdjit.pla: 1536: autorun = open(@autorun)
; vmsrc/apple/cmdjit.pla: 1537: if autorun
; vmsrc/apple/cmdjit.pla: 1538:     cmdln = read(autorun, @cmdln+1, 81)
; vmsrc/apple/cmdjit.pla: 1539:     close(0)
; vmsrc/apple/cmdjit.pla: 1540: else
	!BYTE	$26			; LA	_D070+0
_F294 	!WORD	_D070+0		
	!BYTE	$7A			; SAW	_D033+0
_F295 	!WORD	_D033+0		
	!BYTE	$26			; LA	_D039+0
_F296 	!WORD	_D039+0		
	!BYTE	$7A			; SAW	_D034+0
_F297 	!WORD	_D034+0		
	!BYTE	$54			; CALL	_C023
_F298 	!WORD	_C023		
	!BYTE	$26			; LA	_D040+0
_F299 	!WORD	_D040+0		
	!BYTE	$54			; CALL	_C002
_F300 	!WORD	_C002		
	!BYTE	$7C			; DAB	_D040+0
_F301 	!WORD	_D040+0		
	!BYTE	$4C			; BRFLS	_B199
	!WORD	_B199-*
	!BYTE	$68			; LAB	_D040+0
_F302 	!WORD	_D040+0		
	!BYTE	$26			; LA	_D039+1
_F303 	!WORD	_D039+1		
	!BYTE	$2A,$51			; CB	81
	!BYTE	$54			; CALL	_C004
_F304 	!WORD	_C004		
	!BYTE	$78			; SAB	_D039+0
_F305 	!WORD	_D039+0		
	!BYTE	$00			; CN	0
	!BYTE	$54			; CALL	_C003
_F306 	!WORD	_C003		
	!BYTE	$30			; DROP 
	!BYTE	$50			; BRNCH	_B200
	!WORD	_B200-*
_B199 
; vmsrc/apple/cmdjit.pla: 1541:     //
; vmsrc/apple/cmdjit.pla: 1542:     // Print some startup info.
; vmsrc/apple/cmdjit.pla: 1543:     //
; vmsrc/apple/cmdjit.pla: 1544:     prstr("HEAP START:$"); prword(heap); crout
	!BYTE	$2E			; CS
	!BYTE	$0C
	!BYTE	$48,$45,$41,$50,$20,$53,$54,$41
	!BYTE	$52,$54,$3A,$24
	!BYTE	$54			; CALL	_A008
_F307 	!WORD	_A008		
; vmsrc/apple/cmdjit.pla: 1545:     prstr("MEM FREE:$"); prword(availheap); crout
	!BYTE	$6A			; LAW	_D072+0
_F308 	!WORD	_D072+0		
	!BYTE	$54			; CALL	_A009
_F309 	!WORD	_A009		
	!BYTE	$54			; CALL	_A005
_F310 	!WORD	_A005		
	!BYTE	$2E			; CS
	!BYTE	$0A
	!BYTE	$4D,$45,$4D,$20,$46,$52,$45,$45
	!BYTE	$3A,$24
	!BYTE	$54			; CALL	_A008
_F311 	!WORD	_A008		
; vmsrc/apple/cmdjit.pla: 1546: fin
	!BYTE	$54			; CALL	_C005
_F312 	!WORD	_C005		
	!BYTE	$54			; CALL	_A009
_F313 	!WORD	_A009		
	!BYTE	$54			; CALL	_A005
_F314 	!WORD	_A005		
_B200 
; vmsrc/apple/cmdjit.pla: 1547: docmds
; vmsrc/apple/cmdjit.pla: 1548: done
	!BYTE	$54			; CALL	_C026
_F315 	!WORD	_C026		
	!BYTE	$00			; CN	0
	!BYTE	$5C			; RET
_SYSFLAGS	=	0
